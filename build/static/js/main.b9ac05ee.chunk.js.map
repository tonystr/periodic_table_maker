{"version":3,"sources":["serviceWorker.js","global.js","pages/table.js","pages/login.js","pages/signup.js","pages/dashboard.js","pages/home.js","index.js","pages/tablemissing.js"],"names":["Boolean","window","location","hostname","match","Center","props","react_default","a","createElement","className","children","Dropdown","useEffect","document","addEventListener","dismount","removeEventListener","evt","target","classList","contains","findAncestor","onDismount","console","error","style","ColorPreview","backgroundColor","colors","UserInfo","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","clickLogout","Author","logout","setState","redirect","clickDelete","state","deleteCounter","deleteMessages","length","delete","count","setTimeout","clickTheme","stopPropagation","preventDefault","nativeEvent","stopImmediatePropagation","selectingTheme","clickThemeOption","index","Number","getAttribute","selectedTheme","changeTheme","renderThemeOptions","list","i","themes","push","key","onClick","name","colorPreview","log","checkTheme","Redirect","to","global_Dropdown","Link","Component","Header","_useState","useState","_useState2","slicedToArray","username","setUsername","_useState3","_useState4","pagename","setPagename","_useState5","_useState6","userDropdown","setUserDropdown","filename","checkUsername","pname","pathname","replace","search","apiFetch","method","reqtype","tableID","res","author_id","checkAuth","link","querySelector","setAttribute","concat","process","setTheme","head","appendChild","left","center","right","Fragment","global_UserInfo","InputCheckbox","_useState7","checked","_useState8","setChecked","checkbox","chk","onChange","aria-hidden","el","cls","parentElement","_callee","data","callBack","regenerator_default","wrap","_context","prev","next","fetch","headers","accepts","JSON","stringify","then","json","catch","e","stop","auth","cookie","_callee2","callback","_context2","authorID","password","themeIndex","authenticate","options","date","Date","setDate","getDate","Element","handleClick","onSelect","elm","elneg","String","electronegativity","mass","atomic_mass","indexOf","click","isUndef","isDefault","symbol","undefined","slidedown","type_id","atom_number","Ptable","_this2","loadTable","loaded","table","elements","handleInspect","onInspect","renderSpecialGroup","num","width","start","def","table_Element","_loop","anum","find","assign","hidden","renderGroup","_loop2","reload","show","XButton","ElementInput","type","defaultValue","onKeyPress","maxLength","readOnly","ElementCard","_this3","inputOnChange","value","changed","handleDismount","anom","amass","eneg","fetchElement","changeElement","handleKeyPress","undef","inspectorDismount","dismounting","Inspector","_this4","refs","card","blur","handleChange","table_ElementCard","ref","TableOptions","dropdown","setDropdown","setOptions","toggleStates","toggleOption","opts","typeColors","PTable","_this5","onInspectElement","inspect","onBlur","onInspectEscape","tableOptionsChange","tableCookie","URL","searchParams","get","table_Ptable","table_Inspector","Login","obj","login","resAuth","signup","Welcome","user","handleDeleteClick","deleteClicks","handleEditClick","editTable","handleRestoreClick","new","deletemsgs","position","x","top","y","Table","createDropdown","dashboard_Dropdown","pageX","pageY","destroyDropdown","handleClickOptions","table_id","deleted","note","NewTable","TableCreator","handleInput","handleInputPublic","public","createTable","Dashboard","componentDidMount","loadTables","tables","onClickNewTable","create","arguments","renderTables","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","dashboard_Table","err","return","dashboard_NewTable","drop","cancelDropdown","dashboard_Welcome","dashboard_TableCreator","TableMissing","setTables","author_name","id","ReactDOM","render","BrowserRouter","Route","exact","path","component","Home","SignUp","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b9ac05ee.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n        // [::1] is the IPv6 localhost address.\r\n        window.location.hostname === '[::1]' ||\r\n        // 127.0.0.1/8 is considered localhost for IPv4.\r\n        window.location.hostname.match(\r\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n        )\r\n);\r\n\r\nexport function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n            return;\r\n        }\r\n\r\n        window.addEventListener('load', () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n            if (isLocalhost) {\r\n                // This is running on localhost. Let's check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl, config);\r\n\r\n                // Add some additional logging to localhost, pointing developers to the\r\n                // service worker/PWA documentation.\r\n                navigator.serviceWorker.ready.then(() => {\r\n                    console.log(\r\n                        'This web app is being served cache-first by a service ' +\r\n                            'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n                    );\r\n                });\r\n            } else {\r\n                // Is not localhost. Just register service worker\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing;\r\n                if (installingWorker == null) {\r\n                    return;\r\n                }\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === 'installed') {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the updated precached content has been fetched,\r\n                            // but the previous service worker will still serve the older\r\n                            // content until all client tabs are closed.\r\n                            console.log(\r\n                                'New content is available and will be used when all ' +\r\n                                    'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n                            );\r\n\r\n                            // Execute callback\r\n                            if (config && config.onUpdate) {\r\n                                config.onUpdate(registration);\r\n                            }\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.log('Content is cached for offline use.');\r\n\r\n                            // Execute callback\r\n                            if (config && config.onSuccess) {\r\n                                config.onSuccess(registration);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n        })\r\n        .catch(error => {\r\n            console.error('Error during service worker registration:', error);\r\n        });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n        .then(response => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            const contentType = response.headers.get('content-type');\r\n            if (\r\n                response.status === 404 ||\r\n                (contentType != null && contentType.indexOf('javascript') === -1)\r\n            ) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then(registration => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload();\r\n                    });\r\n                });\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.log(\r\n                'No internet connection found. App is running in offline mode.'\r\n            );\r\n        });\r\n}\r\n\r\nexport function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister();\r\n        });\r\n    }\r\n}\r\n","import React, { Component, useState, useEffect } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nfunction Center(props) {\r\n    return (\r\n        <div className='padjust'>\r\n            <div className='padding' />\r\n            {props.children}\r\n            <div className='padding' />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Dropdown(props) {\r\n\r\n    useEffect(() => {\r\n\r\n        document.addEventListener('click', dismount);\r\n\r\n        return () => {\r\n            document.removeEventListener('click', dismount);\r\n        }\r\n    });\r\n\r\n    const dismount = evt => {\r\n        if (evt.target.classList.contains('dropdown') || findAncestor(evt.target, 'dropdown')) return;\r\n\r\n        if (!props.onDismount) return console.error('Dropdown onDismount not set');\r\n        props.onDismount();\r\n        document.removeEventListener('click', dismount);\r\n    }\r\n\r\n    return (\r\n        <ul\r\n            className={'dropdown' + (props.className ? ' ' + props.className : '')}\r\n            style={props.style}\r\n        >\r\n            {props.children}\r\n        </ul>\r\n    );\r\n}\r\n\r\nfunction ColorPreview(props) {\r\n    return (\r\n        <div className='colorpreview'>\r\n            <div style={{ backgroundColor: props.colors[0] }} className='main' />\r\n            <div style={{ backgroundColor: props.colors[1] }} className='secondary' />\r\n        </div>\r\n    );\r\n}\r\n\r\nclass UserInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            redirect: null,\r\n            deleteCounter: 0,\r\n            deleteMessages: [\r\n                'Delete account',\r\n                'Are you sure?',\r\n                'Do you really wish to delete this account?',\r\n                'Deleting...'\r\n            ],\r\n            selectingTheme: false,\r\n            selectedTheme: Author.checkTheme()\r\n        };\r\n    }\r\n\r\n    clickLogout = () => {\r\n        Author.logout();\r\n        this.setState({ redirect: 'login' });\r\n    }\r\n\r\n    clickDelete = () => {\r\n        if (this.state.deleteCounter >= this.state.deleteMessages.length - 2) {\r\n            Author.delete(() => {\r\n                this.setState({ redirect: 'signup' });\r\n            });\r\n        } else {\r\n            const count = this.state.deleteCounter + 1;\r\n            this.setState({ deleteCounter: count });\r\n\r\n            setTimeout(() => {\r\n                if (this.state.deleteCounter === count) {\r\n                    this.setState({ deleteCounter: 0 });\r\n                }\r\n            }, 4600);\r\n        }\r\n    }\r\n\r\n    clickTheme = evt => {\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n        evt.nativeEvent.stopImmediatePropagation();\r\n        this.setState({ selectingTheme: !this.state.selectingTheme });\r\n    }\r\n\r\n    clickThemeOption = evt => {\r\n        const index = Number(evt.target.getAttribute('index'));\r\n        this.setState({ selectedTheme: index });\r\n        this.props.changeTheme(index);\r\n    }\r\n\r\n    renderThemeOptions = () => {\r\n        const list = [];\r\n        for (let i = 0; i < this.props.themes.length; i++) {\r\n            list.push(\r\n                <li\r\n                    key={i}\r\n                    index={i}\r\n                    onClick={this.clickThemeOption}\r\n                    className={this.state.selectedTheme === i ? 'selected' : ''}\r\n                >\r\n                    {this.props.themes[i].name}\r\n                    <ColorPreview colors={this.props.themes[i].colorPreview} />\r\n                </li>\r\n            );\r\n        }\r\n        console.log(list);\r\n        return list;\r\n    }\r\n\r\n    render() {\r\n        if (this.state.redirect) return <Redirect to={this.state.redirect} />\r\n        return (\r\n            this.state.selectingTheme ? (\r\n                <Dropdown\r\n                    onDismount={this.props.onDismount}\r\n                    className='usercontrolls choose'\r\n                >\r\n                    {this.renderThemeOptions()}\r\n                </Dropdown>\r\n            ) : (\r\n                <Dropdown\r\n                    onDismount={this.props.onDismount}\r\n                    className='usercontrolls'\r\n                >\r\n                    <Link to='dashboard'><li>Dashboard</li></Link>\r\n                    <li onClick={this.clickTheme}>Change theme</li>\r\n                    <li onClick={this.clickLogout}>Log out</li>\r\n                    <li onClick={this.clickDelete}>\r\n                        {this.state.deleteMessages[this.state.deleteCounter]}\r\n                    </li>\r\n                </Dropdown>\r\n            )\r\n        );\r\n    }\r\n}\r\n\r\nfunction Header(props) {\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [pagename, setPagename] = useState('');\r\n    const [userDropdown, setUserDropdown] = useState(false);\r\n\r\n    const themes = [{\r\n        name: 'Royal',\r\n        filename: 'royal.css',\r\n        colorPreview: [ '#ddc239', '#331F26' ]\r\n    }, {\r\n        name: 'One Dark',\r\n        filename: 'one_dark.css',\r\n        colorPreview: [ '#61dafb', '#282C34' ]\r\n    }, {\r\n        name: 'Dracula',\r\n        filename: 'dracula.css',\r\n        colorPreview: [ '#ff79c6', '#282a36' ]\r\n    }, {\r\n        name: 'Black',\r\n        filename: 'black.css',\r\n        colorPreview: [ '#c3cfd2', '#06080a' ]\r\n    }, {\r\n        name: 'White',\r\n        filename: 'white.css',\r\n        colorPreview: [ '#4a5266', '#ffffff' ]\r\n    }, {\r\n        name: 'Beach',\r\n        filename: 'beach.css',\r\n        colorPreview: [ 'palevioletred', 'papayawhip' ]\r\n    }];\r\n\r\n    useEffect(() => {\r\n        Author.checkUsername(name => {\r\n            if (name) setUsername(name);\r\n        });\r\n    });\r\n\r\n    useEffect(() => {\r\n        changeTheme(Author.checkTheme());\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        let pname = '';\r\n\r\n        switch (window.location.pathname.replace(/^\\//i, '')) {\r\n            case 'home': case '': pname = 'Home'; break;\r\n            case 'login': pname = 'Log in'; break;\r\n            case 'signup': pname = 'Sign up'; break;\r\n            case 'dashboard': pname = 'Dashboard'; break;\r\n            case 'tablemissing': pname = 'Table not found'; break;\r\n            case 'table':\r\n                const match = window.location.search.match(/t=(\\d+)/i);\r\n                if (!match || !match[1]) break;\r\n                apiFetch({\r\n                    method: 'GET',\r\n                    reqtype: 'table',\r\n                    tableID: match[1]\r\n                }, res => {\r\n                    if (res && res[0]) {\r\n                        setPagename(\r\n                            res[0].name +\r\n                            (res[0].author_id !== Author.checkAuth() ? ' [read-only]' : '')\r\n                        );\r\n                    }\r\n                });\r\n                break;\r\n            default: pname = ''; break;\r\n        }\r\n\r\n        if (pname) setPagename(pname);\r\n    }, [window.location.pathname]);\r\n\r\n    const handleUserClick = () => {\r\n        setUserDropdown(!userDropdown);\r\n    }\r\n\r\n    const userInfoDismount = () => {\r\n        setUserDropdown(false);\r\n    }\r\n\r\n    const changeTheme = index => {\r\n        const link = document.querySelector('head>link.theme') ||\r\n            document.createElement('link');\r\n\r\n        link.setAttribute('rel', 'stylesheet');\r\n        link.setAttribute('class', 'theme');\r\n        link.setAttribute('href', index !== 0 ? `${process.env.PUBLIC_URL}/themes/${themes[index].filename}` : '');\r\n\r\n        Author.setTheme(index);\r\n        // this.setState({ selectedTheme: index });\r\n        document.head.appendChild(link);\r\n    }\r\n\r\n    return (\r\n        <header>\r\n            <section className='left'>\r\n                <Link to='/' className='dash'><i className=\"fas fa-home\"></i> Periodic Table Builder  </Link>\r\n                {props.left}\r\n            </section>\r\n\r\n            <section className='center'>\r\n                <div className='pagename'>{pagename}</div>\r\n                {props.center}\r\n            </section>\r\n\r\n            <section className='right'>\r\n                {props.right}\r\n                {username && (\r\n                    <>\r\n                        <div\r\n                            className='user'\r\n                            onClick={handleUserClick}\r\n                        >\r\n                            {username}\r\n                        </div>\r\n                        {userDropdown && (\r\n                            <UserInfo\r\n                                changeTheme={changeTheme}\r\n                                onDismount={userInfoDismount}\r\n                                themes={themes}\r\n                            />\r\n                        )}\r\n                    </>\r\n                )}\r\n            </section>\r\n        </header>\r\n    );\r\n}\r\n\r\nfunction InputCheckbox(props) {\r\n\r\n    const [checked, setChecked] = useState(props.checked || false);\r\n\r\n    const handleClick = evt => {\r\n        const checkbox = evt.target.classList.contains('checkbox') ?\r\n            evt.target :\r\n            findAncestor(evt.target, 'checkbox');\r\n\r\n        const chk = checkbox && !checkbox.classList.contains('checked');\r\n        setChecked(chk);\r\n        props.onChange(chk);\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={'checkbox' + (checked ? ' checked' : '')}\r\n            onClick={handleClick}\r\n        >\r\n            <i className=\"fa fa-check\" aria-hidden=\"true\"></i>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction findAncestor(el, cls) {\r\n    while ((el = el.parentElement) && !el.classList.contains(cls));\r\n    return el;\r\n}\r\n\r\nasync function apiFetch(data, callBack) {\r\n    await fetch(`http://localhost:5487`, {\r\n        headers: {\r\n            accepts: 'application/json',\r\n            data: JSON.stringify(data)\r\n        },\r\n    })\r\n    .then(res => {\r\n        res.json().then(json => callBack(json));\r\n\r\n    }).catch(e => console.log(e));\r\n}\r\n\r\nfunction authenticate(options, callback) {\r\n    Author.auth = options.auth;\r\n    let date = new Date();\r\n    date.setDate(date.getDate() + 7);\r\n    document.cookie = `auth=${options.auth}; expires=${date}; path=/`;\r\n\r\n    callback();\r\n}\r\n\r\nfunction checkAuth() {\r\n    if (!Author.auth) {\r\n        const match = document.cookie.match(/auth\\s*=\\s*(\\d+)/i);\r\n        if (match) {\r\n            Author.auth = Number(match[1]);\r\n        }\r\n    }\r\n\r\n    return Author.auth;\r\n}\r\n\r\nasync function checkUsername(callback) {\r\n    if (!Author.username) {\r\n        await apiFetch({\r\n            method: 'GET',\r\n            reqtype: 'username',\r\n            authorID: checkAuth()\r\n        }, res => {\r\n            Author.username = (res && res[0] && res[0].name) || '';\r\n            callback(Author.username);\r\n        });\r\n    } else callback(Author.username);\r\n}\r\n\r\nfunction authorLogout() {\r\n    document.cookie = 'auth=0;';\r\n    Author.auth = 0;\r\n    Author.username = '';\r\n    Author.password = '';\r\n}\r\n\r\nfunction authorDelete(callback) {\r\n    apiFetch({\r\n        method: 'DELETE',\r\n        reqtype: 'author',\r\n        authorID: Author.checkAuth()\r\n    }, res => {\r\n        Author.logout();\r\n        callback(res);\r\n    });\r\n}\r\n\r\nfunction checkTheme() {\r\n    if (!Author.themeIndex) {\r\n        const match = document.cookie.match(/theme\\s*=\\s*(\\d+)/i);\r\n        if (match) {\r\n            Author.themeIndex = Number(match[1]);\r\n        }\r\n    }\r\n\r\n    return Author.themeIndex;\r\n}\r\n\r\nfunction setTheme(themeIndex) {\r\n    Author.themeIndex = themeIndex;\r\n    let date = new Date();\r\n    date.setDate(date.getDate() + 7);\r\n    document.cookie = `theme=${themeIndex}; expires=${date}; path=/`;\r\n}\r\n\r\nconst Author = {\r\n    username: '',\r\n    password: '',\r\n    auth: 0,\r\n    themeIndex: 0,\r\n    authenticate: authenticate,\r\n    setTheme: setTheme,\r\n    checkAuth: checkAuth,\r\n    checkTheme: checkTheme,\r\n    checkUsername: checkUsername,\r\n    logout: authorLogout,\r\n    delete: authorDelete\r\n}\r\n\r\nexport { Center, apiFetch, Author, Header, InputCheckbox, Dropdown, findAncestor };\r\n","import React, { Component, useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Center, apiFetch, Author, Header, Dropdown } from './../global.js';\r\n\r\nclass Element extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let elneg = String((props.elm && props.elm.electronegativity) || '--');\r\n        let mass  = String((props.elm && props.elm.atomic_mass) || '--');\r\n\r\n        if (elneg !== '--' && !~elneg.indexOf('.')) elneg += '.0';\r\n        if (mass  !== '--' && !~mass.indexOf('.'))  mass = `(${mass})`;\r\n\r\n        this.state = {\r\n            click: props.click || false,\r\n            elm: props.elm || false,\r\n            isUndef: this.props.elm && props.elm.isDefault,\r\n            elneg: elneg,\r\n            mass: mass\r\n        };\r\n    }\r\n\r\n    handleClick = () => {\r\n        this.props.onSelect(this.state.elm);\r\n    }\r\n\r\n    render() {\r\n\r\n        //const typeColors = [\r\n        //    '#F2615A',\r\n        //    '#FAAD59',\r\n        //    '#F0ED58',\r\n        //    '#7FC973',\r\n        //    '#79D1DC',\r\n        //    '#7984C0',\r\n        //    '#8A80BB',\r\n        //    '#B47EB5',\r\n        //    '#E972B2',\r\n        //    '#D281B8'\r\n        //];\r\n\r\n        return (\r\n            <td\r\n                symbol={this.state.elm ? this.state.elm.symbol : undefined}\r\n                className={\r\n                    (this.state.elm.slidedown ? 'slidedown' : 'element') +\r\n                    (!this.state.elm ? ' hidden' : '') +\r\n                    (this.state.click ? ' click' : '') +\r\n                    (this.state.isUndef ? ' undef' : '') +\r\n                    (this.state.elm.type_id ? ' type-' + this.state.elm.type_id : ' type-11')\r\n                }\r\n                onClick={this.handleClick}\r\n            >\r\n                <span className='anum'>{this.state.elm && !this.state.isUndef ? this.state.elm.atom_number : undefined}</span>\r\n                <div className='symbol'>{this.state.elm ? this.state.elm.symbol : undefined}</div>\r\n                {this.state.elm && !this.state.isUndef && <span className='mass'><span>{this.state.mass}</span></span>}\r\n                {this.state.elm && !this.state.isUndef && <span className='elneg'><span>{this.state.elneg}</span></span>}\r\n            </td>\r\n        );\r\n    }\r\n}\r\n\r\nclass Ptable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loaded: false,\r\n            redirect: null,\r\n            table: {},\r\n            elements: [],\r\n            width: 18,\r\n            tableID: props.tableID,\r\n            reload: this.loadTable,\r\n            def: {\r\n                isDefault: true,\r\n                name: '',\r\n                symbol: '',\r\n                atom_number: undefined\r\n            }\r\n        };\r\n\r\n        this.loadTable();\r\n    }\r\n\r\n    loadTable = () => {\r\n        if (this.state.loaded) {\r\n            this.setState({\r\n                loaded: false\r\n            });\r\n        }\r\n        apiFetch({\r\n            method: 'GET',\r\n            reqtype: 'table_elements',\r\n            table: this.state.tableID,\r\n            authorID: Author.checkAuth()\r\n        }, res => {\r\n            if (res.error) {\r\n                this.setState({ redirect: 'tablemissing' });\r\n            } else {\r\n                this.setState({\r\n                    loaded: true,\r\n                    table: res.table,\r\n                    elements: res.elements\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    handleInspect = evt => {\r\n        this.props.onInspect(evt);\r\n    }\r\n\r\n    renderSpecialGroup = (num, width) => {\r\n        const diff = 32;\r\n        const start = 57 + num * diff;\r\n        const def = this.state.def;\r\n        const list = [];\r\n\r\n        for (let i = 0; i < 3; i++) {\r\n            list.push(\r\n                <Element\r\n                    onSelect={undefined}\r\n                    key={start - i - 1}\r\n                    elm={undefined}\r\n                />\r\n            );\r\n        }\r\n\r\n        for (let anum = start; anum < start + 15; anum++) {\r\n            const elm = this.state.elements.find(elm => elm.atom_number === anum) ||\r\n                        Object.assign({}, def, { atom_number: anum, symbol: anum });\r\n            list.push(\r\n                <Element\r\n                    onSelect={this.handleInspect}\r\n                    key={anum}\r\n                    elm={!elm.hidden && elm}\r\n                />\r\n            );\r\n        }\r\n\r\n        return <tr className='group' key={8 + num}>{list}</tr>;\r\n    }\r\n\r\n    renderGroup = (index, width) => {\r\n        const list = [];\r\n        const start = index * this.state.width;\r\n        const def = this.state.def;\r\n\r\n        for (let i = 0; i < width; i++) {\r\n            let key = start + i;\r\n            let anum = key + 1 -\r\n                (key > 1  && 16) -\r\n                (key > 20 && 10) -\r\n                (key > 38 && 10) +\r\n                (key > 91 && 14) +\r\n                (key > 110 && 14);\r\n\r\n            let elm = def;\r\n\r\n            if ((key > 0  && key < 17) ||\r\n                (key > 19 && key < 30) ||\r\n                (key > 37 && key < 48)) {\r\n\r\n                elm = Object.assign({}, def, { atom_number: anum, hidden: true });\r\n            } else if (key === 92) {\r\n                elm = Object.assign({}, def, { symbol: '57-71', slidedown: true });\r\n            } else if (key === 110) {\r\n                elm = Object.assign({}, def, { symbol: '89-103', slidedown: true });\r\n            } else {\r\n                elm = (this.state.elements.find(elm => elm.atom_number === anum) ||\r\n                    Object.assign({}, def, { atom_number: anum, symbol: anum }));\r\n            }\r\n\r\n            if (elm !== undefined) {\r\n\r\n                if (index === 0) key = \"string\" + key;\r\n\r\n                list.push(\r\n                    <Element\r\n                        onSelect={this.handleInspect}\r\n                        key={key}\r\n                        elm={!elm.hidden && elm}\r\n                    />\r\n                );\r\n            }\r\n        }\r\n\r\n        return (<tr className='group' key={index}>{list}</tr>);\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.redirect) return <Redirect to={this.state.redirect} />;\r\n        if (!this.state.tableID) return <Redirect to='tablemissing' />;\r\n\r\n        const width = 18;\r\n        const height = 7;\r\n        const list = [];\r\n\r\n        if (this.state.loaded) {\r\n            for (let i = 0; i < height; i++) {\r\n                list.push(this.renderGroup(i, width));\r\n            }\r\n            list.push(\r\n                <tr className='spacing' key={7} />,\r\n                this.renderSpecialGroup(0),\r\n                this.renderSpecialGroup(1)\r\n            );\r\n        }\r\n\r\n        return (\r\n            <table className={\r\n                'ptable' +\r\n                (this.props.show ? ' show ' + this.props.show : '') +\r\n                (this.state.table && this.state.table.author_id !== Author.checkAuth() ? ' read-only' : '')\r\n            }>\r\n                <tbody>{list}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\n\r\nfunction XButton(props) {\r\n    return <div className='button-x' onClick={props.onClick} />;\r\n}\r\n\r\nfunction ElementInput(props) {\r\n    return (\r\n        <input\r\n            type='text'\r\n            defaultValue={props.elm[props.name]}\r\n            name={props.name}\r\n            onChange={props.onChange}\r\n            onKeyPress={props.onKeyPress}\r\n            maxLength={props.maxLength || 45}\r\n            readOnly={props.readOnly}\r\n        />\r\n    );\r\n}\r\n\r\nclass ElementCard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const undef = !!props.elm.isDefault;\r\n        this.state = {\r\n            dismount: this.props.inspectorDismount,\r\n            loaded: undef,\r\n            isUndef: undef,\r\n            method: undef ? 'ADD' : 'not sure',\r\n            changed: false,\r\n            elm: {\r\n                symbol: undef ? '' : null,\r\n                anom:   props.elm.atom_number,\r\n                name:   undef ? '' : null,\r\n                mass:   null,\r\n                elneg:  null\r\n            },\r\n            tableID: props.tableID\r\n        }\r\n        if (!undef) this.fetchElement(this.props.elm.atom_number);\r\n    }\r\n\r\n    inputOnChange = (e) => {\r\n        let elm = this.state.elm;\r\n        elm[e.target.name] = e.target.value;\r\n        if (!this.state.changed) this.props.onChange();\r\n        this.setState({ elm: elm, changed: true });\r\n    }\r\n\r\n    handleDismount = () => {\r\n        // this.dismount(); is done by parent\r\n        this.state.dismount();\r\n    }\r\n\r\n    dismount = () => {\r\n        if (this.state.changed) {\r\n            // update SQL\r\n            const elm = this.state.elm;\r\n            apiFetch({\r\n                method: this.state.method,\r\n                reqtype: 'element',\r\n                table: this.state.tableID,\r\n                symbol: elm.symbol,\r\n                anom: elm.anom,\r\n                name: elm.name,\r\n                amass: elm.amass,\r\n                eneg: elm.eneg\r\n            }, res => {\r\n                console.log(res);\r\n            });\r\n        } else {\r\n            console.log('Did not apiFetch, because elm has not changed');\r\n        }\r\n    }\r\n\r\n    fetchElement = (anom) => {\r\n        apiFetch({\r\n            method: 'GET',\r\n            reqtype: 'element',\r\n            table: this.state.tableID,\r\n            anom: anom\r\n        }, res => {\r\n            if (res.length) {\r\n                const elm = res[0];\r\n                this.setState({\r\n                    loaded: true,\r\n                    method: 'UPDATE',\r\n                    elm: {\r\n                        symbol: elm.symbol,\r\n                        anom: anom,\r\n                        name: elm.name,\r\n                        mass: elm.atomic_mass,\r\n                        elneg: elm.electronegativity\r\n                    }\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    loaded: true,\r\n                    method: 'ADD',\r\n                    elm: {\r\n                        symbol: '',\r\n                        anom: anom,\r\n                        name: ''\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    changeElement = (key, value) => {\r\n        this.elm[key] = value\r\n    }\r\n\r\n    handleClick = (evt) => {\r\n        evt.stopPropagation();\r\n        evt.nativeEvent.stopImmediatePropagation();\r\n    }\r\n\r\n    delete = () => {\r\n        if (this.state.method === 'ADD') {\r\n            this.setState({ method: 'don\\'t touch it, you idiot' });\r\n            return this.handleDismount();\r\n        }\r\n\r\n        if (!this.state.changed) this.props.onChange();\r\n        apiFetch({\r\n            method: 'DELETE',\r\n            reqtype: 'element',\r\n            table: this.state.tableID,\r\n            anom: this.state.elm.anom\r\n        }, () => {\r\n            this.handleDismount();\r\n        });\r\n    }\r\n\r\n    handleKeyPress = evt => {\r\n        if (evt.key === 'Enter') this.handleDismount();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Center>\r\n                <div className='card-holder'>\r\n                    <div\r\n                        className={'card' + (this.props.dismounting ? ' fadeout' : '')}\r\n                        onClick={this.handleClick}\r\n                    >\r\n                        <XButton onClick={this.handleDismount} />\r\n                        <div className='data-input'>\r\n                            <ul>\r\n                                <li>Symbol</li>\r\n                                <li>Atomic Number</li>\r\n                                <li>Name</li>\r\n                                <br />\r\n                                {this.state.elm.mass  && <li>Atomic Mass</li>}\r\n                                {this.state.elm.elneg && <li>Electronegativity</li>}\r\n                            </ul>\r\n                            {this.state.loaded && (\r\n                                <form className='datalist' method='POST'>\r\n                                    <ElementInput name='symbol' readOnly={this.props.readOnly} elm={this.state.elm} onChange={this.inputOnChange} className='elm-symbol' maxLength={4} />\r\n                                    <ElementInput name='anom'   readOnly={this.props.readOnly} elm={this.state.elm} onChange={this.inputOnChange} className='elm-anom' />\r\n                                    <ElementInput name='name'   readOnly={this.props.readOnly} elm={this.state.elm} onChange={this.inputOnChange} className='elm-name' onKeyPress={this.handleKeyPress} />\r\n                                    <br />\r\n                                    {this.state.elm.mass  && <ElementInput name='mass'  readOnly={true} elm={this.state.elm} onChange={null} className='elm-mass'  onKeyPress={null} />}\r\n                                    {this.state.elm.elneg && <ElementInput name='elneg' readOnly={true} elm={this.state.elm} onChange={null} className='elm-elneg' onKeyPress={null} />}\r\n                                </form>\r\n                            )}\r\n                        </div>\r\n                        {!this.props.readOnly && (\r\n                            <div className='bottom-bar'>\r\n                                <div\r\n                                    className={'button delete' + (this.state.method !== 'ADD' || this.state.changed ? '' : ' hidden')}\r\n                                    onClick={this.delete}\r\n                                >\r\n                                    {this.state.method === 'ADD' ? 'Cancel' : 'Delete'}\r\n                                </div>\r\n                                <div\r\n                                    className={'button add' + (this.state.changed ? '' : ' hidden')}\r\n                                    onClick={this.handleDismount}\r\n                                >\r\n                                    {this.state.method === 'ADD' ? 'Add' : 'Update'}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </Center>\r\n        );\r\n    }\r\n}\r\n\r\nclass Inspector extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            changed: false,\r\n            dismounting: false\r\n        };\r\n        this.props.blur(true);\r\n    }\r\n\r\n    dismount = () => {\r\n        if (this.state.dismounting) return;\r\n        this.setState({ dismounting: true });\r\n        this.refs.card.dismount();\r\n        this.props.blur(false);\r\n        setTimeout(() => {\r\n            this.props.onDismount(this.state.changed);\r\n        }, 200);\r\n    }\r\n\r\n    handleChange = () => {\r\n        this.setState({\r\n            changed: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                className={'inspector' + (this.state.dismounting ? ' fadeout' : '')}\r\n                onClick={this.dismount}\r\n            >\r\n                <ElementCard\r\n                    dismounting={this.state.dismounting}\r\n                    inspectorDismount={this.dismount}\r\n                    onChange={this.handleChange}\r\n                    elm={this.props.elm}\r\n                    ref='card'\r\n                    tableID={this.props.tableID}\r\n                    readOnly={this.props.readOnly}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction TableOptions(props) {\r\n    const [dropdown, setDropdown] = useState(false);\r\n    const [options, setOptions] = useState(props.options);\r\n    const toggleStates = ['Show ', 'Hide '];\r\n\r\n    const toggleOption = evt => {\r\n        const name = evt.target.getAttribute('name');\r\n        let opts = options;\r\n        opts[name] = !opts[name];\r\n        setOptions(opts);\r\n        props.onChange(options);\r\n    }\r\n\r\n    return (\r\n        <div className='tableoptions'>\r\n            <div className='btn' onClick={() => setDropdown(!dropdown)}>\r\n                <i className=\"fas fa-cog\"></i>\r\n            </div>\r\n            {dropdown && (\r\n                <Dropdown onDismount={() => setDropdown(false)} className='dropdown'>\r\n                    <li name='mass' onClick={toggleOption}>\r\n                        {toggleStates[Number(options.mass)]}\r\n                        atomic mass\r\n                    </li>\r\n                    <li name='elneg' onClick={toggleOption}>\r\n                        {toggleStates[Number(options.elneg)]}\r\n                        electronegativity\r\n                    </li>\r\n                    <li name='typeColors' onClick={toggleOption}>\r\n                        {toggleStates[Number(options.typeColors)]}\r\n                        type colors\r\n                    </li>\r\n\r\n\r\n                </Dropdown>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default class PTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let params = (new URL(document.location)).searchParams;\r\n        let tableCookie = params.get('t');\r\n\r\n        this.state = {\r\n            inspect: null,\r\n            blur: false,\r\n            tableID: (tableCookie && Number(tableCookie)) || -1,\r\n            options : {\r\n                elneg: false,\r\n                mass: false,\r\n                typeColors: false\r\n            }\r\n        };\r\n    }\r\n\r\n    onInspectElement = (elm) => {\r\n        this.setState({ inspect: elm });\r\n    }\r\n\r\n    onBlur = (blur) => {\r\n        this.setState({ blur: blur });\r\n    }\r\n\r\n    onInspectEscape = changed => {\r\n        this.setState({ inspect: null });\r\n        if (changed) this.refs.table.state.reload();\r\n    }\r\n\r\n    tableOptionsChange = options => {\r\n        this.setState({ options: options });\r\n    }\r\n\r\n    render() {\r\n        if (!Author.checkAuth()) return <Redirect to='login' />;\r\n\r\n        return (\r\n            <>\r\n                <Header right={\r\n                    <TableOptions\r\n                        onChange={this.tableOptionsChange}\r\n                        options={this.state.options}\r\n                    />\r\n                } />\r\n                <div className='ptabapp'>\r\n                    <div className={this.state.blur ? 'content blur' : 'content'}>\r\n                        <Center>\r\n                            <Ptable\r\n                                tableID={this.state.tableID}\r\n                                ref='table'\r\n                                onInspect={this.onInspectElement}\r\n                                show={\r\n                                    (this.state.options.elneg ? 'elneg' : '') +\r\n                                    (this.state.options.mass  ? ' mass' : '') +\r\n                                    (this.state.options.typeColors ? ' tcolors' : '')\r\n                                }\r\n                            />\r\n                        </Center>\r\n                    </div>\r\n                    {this.state.inspect && <Inspector\r\n                        elm={this.state.inspect}\r\n                        blur={this.onBlur}\r\n                        onDismount={this.onInspectEscape}\r\n                        tableID={this.state.tableID}\r\n                        readOnly={this.refs.table && this.refs.table.state.table.author_id !== Author.checkAuth()}\r\n                    />}\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Center, apiFetch, Author, Header } from './../global.js';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nexport default class Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            changed: false,\r\n            username: '',\r\n            password: '',\r\n            auth: null,\r\n            error: false\r\n        };\r\n    }\r\n\r\n    handleChange = evt => {\r\n        let obj = { changed: true, error: false };\r\n        obj[evt.target.name] = evt.target.value\r\n        this.setState(obj);\r\n    }\r\n\r\n    handleKeyPress = evt => {\r\n        if (evt.key === 'Enter') {\r\n            this.login();\r\n        }\r\n    }\r\n\r\n    login = () => {\r\n        if (this.state.username === '' || this.state.password === '') {\r\n            this.setState({ changed: false, error: true });\r\n            console.log('Can\\'t log in without a username or password');\r\n            return;\r\n        }\r\n\r\n        apiFetch({\r\n            method: 'LOGIN',\r\n            reqtype: 'login',\r\n            username: this.state.username,\r\n            password: this.state.password\r\n        }, res => {\r\n            let resAuth = (res && res.length && res[0].author_id) || null;\r\n\r\n            if (resAuth != null) {\r\n                Author.authenticate({\r\n                    username: this.state.username,\r\n                    password: this.state.password,\r\n                    auth: resAuth\r\n                }, () => {\r\n                    this.setState({\r\n                        auth: resAuth,\r\n                        error: false\r\n                    });\r\n                });\r\n            } else {\r\n                this.setState({ changed: false, error: true });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.auth) return <Redirect to='dashboard' />;\r\n        return (\r\n            <>\r\n                <Header />\r\n                <Center>\r\n                    <div className='login'>\r\n                        <div className='field'><h1> Log in </h1></div>\r\n                        <div className={'field' + (this.state.error ? ' error' : '')}>\r\n                            <div>Username</div>\r\n                            <input\r\n                                name='username'\r\n                                onKeyPress={this.handleKeyPress}\r\n                                onChange={this.handleChange}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className={'field' + (this.state.error ? ' error' : '')}>\r\n                            <div>Password</div>\r\n                            <input\r\n                                name='password'\r\n                                onKeyPress={this.handleKeyPress}\r\n                                onChange={this.handleChange}\r\n                                type='password'\r\n                            />\r\n                        </div>\r\n                        <div className='field redirbar'>\r\n                            <div className='button' onClick={this.login}> Log in </div>\r\n                            <div><Link className='signup' to='/signup'> Create new user? </Link></div>\r\n                        </div>\r\n                    </div>\r\n                </Center>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Center, apiFetch, Author, Header } from './../global.js';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nexport default class Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            changed: false,\r\n            username: '',\r\n            password: '',\r\n            auth: null\r\n        };\r\n    }\r\n\r\n    handleChange = evt => {\r\n        let obj = { changed: true };\r\n        obj[evt.target.name] = evt.target.value\r\n        this.setState(obj);\r\n    }\r\n\r\n    handleKeyPress = evt => {\r\n        if (evt.key === 'Enter') {\r\n            this.signup();\r\n        }\r\n    }\r\n\r\n    signup = () => {\r\n        if (this.state.username === '' || this.state.password === '') {\r\n            console.log('Can\\'t sign up without a username or password');\r\n            return;\r\n        }\r\n\r\n        apiFetch({\r\n            method: 'SIGNUP',\r\n            reqtype: 'signup',\r\n            username: this.state.username,\r\n            password: this.state.password\r\n        }, res => {\r\n            let resAuth = (res && res.length && res[0].author_id) || null;\r\n            if (resAuth != null) {\r\n                Author.authenticate({\r\n                    username: this.state.username,\r\n                    password: this.state.password,\r\n                    auth: resAuth\r\n                }, () => {\r\n                    this.setState({\r\n                        auth: resAuth,\r\n                        error: false\r\n                    });\r\n                });\r\n            } else {\r\n                this.setState({ changed: false, error: true });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.auth) return <Redirect to='dashboard' />;\r\n        return (\r\n            <>\r\n                <Header />\r\n                <Center>\r\n                    <div className='login'>\r\n                        <div className='field'>\r\n                            <div>\r\n                                <h1> Sign up </h1>\r\n                                <div className='warning'>(do not use your normal passwords; this website is not secure) </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='field'>\r\n                            <div>Username</div>\r\n                            <\r\n                                input\r\n                                name='username'\r\n                                onKeyPress={this.handleKeyPress}\r\n                                onChange={this.handleChange}\r\n                            />\r\n                        </div>\r\n                        <div className='field'>\r\n                            <div>Password</div>\r\n                            <\r\n                                input\r\n                                name='password'\r\n                                onKeyPress={this.handleKeyPress}\r\n                                onChange={this.handleChange}\r\n                                type='password'\r\n                            />\r\n                        </div>\r\n                        <div className='field redirbar'>\r\n                            <div className='button' onClick={this.signup}> Create </div>\r\n                            <div><Link to='/login'> Log in instead? </Link></div>\r\n                        </div>\r\n                    </div>\r\n                </Center>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Author, apiFetch, Center, Header, InputCheckbox, findAncestor, Dropdown as DropdownDefault } from './../global.js';\r\nimport { Redirect, Link } from 'react-router-dom'\r\n\r\nclass Welcome extends Component {\r\n    render() {\r\n        return (\r\n            <div className='welcome'>\r\n                <h3>Welcome, {this.props.user}</h3>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Dropdown extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            deleteClicks: 0,\r\n            deletemsgs: [\r\n                'Delete',\r\n                'Are you sure?',\r\n                'Do you really want to delete this table?',\r\n                'Fine.'\r\n            ]\r\n        };\r\n    }\r\n\r\n    handleDeleteClick = () => {\r\n        if (this.state.deleteClicks >= 2) this.props.delete();\r\n        this.setState({ deleteClicks: this.state.deleteClicks + 1 });\r\n    }\r\n\r\n    handleEditClick = evt => {\r\n        this.props.editTable(this.props.table);\r\n        this.props.dismount();\r\n    }\r\n\r\n    handleRestoreClick = evt => {\r\n        this.props.table.new = true;\r\n        this.props.table.changed = true;\r\n        this.props.editTable(this.props.table);\r\n        this.props.dismount();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <DropdownDefault\r\n                onDismount={this.props.dismount}\r\n                style={{\r\n                    position: 'absolute',\r\n                    left: this.props.x + 'px',\r\n                    top:  this.props.y + 'px'\r\n                }}\r\n            >\r\n                <li onClick={this.handleDeleteClick}>\r\n                    {this.state.deletemsgs[this.state.deleteClicks]}\r\n                </li>\r\n                {this.state.deleteClicks < this.state.deletemsgs.length - 1 ?\r\n                    <li onClick={this.handleEditClick}>Edit</li> :\r\n                    <li onClick={this.handleRestoreClick}>Restore</li>\r\n                }\r\n            </DropdownDefault>\r\n        );\r\n    }\r\n}\r\n\r\nclass Table extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            deleted: false,\r\n            table: props.table\r\n        }\r\n\r\n        document.addEventListener('contextmenu', evt => {\r\n            if (evt.target.classList.contains('table') ||\r\n                findAncestor(evt.target, 'table')) {\r\n                evt.preventDefault();\r\n                this.createDropdown(evt);\r\n            }\r\n        }, false);\r\n    }\r\n\r\n    createDropdown = (evt) => {\r\n        this.props.createDropdown(\r\n            <Dropdown\r\n                x={evt.pageX}\r\n                y={evt.pageY}\r\n                delete={this.delete}\r\n                editTable={this.props.editTable}\r\n                dismount={this.props.destroyDropdown}\r\n                table={this.props.table}\r\n            />\r\n        );\r\n    }\r\n\r\n    handleClickOptions = evt => {\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n        evt.nativeEvent.stopImmediatePropagation();\r\n        this.createDropdown(evt);\r\n    }\r\n\r\n    delete = () => {\r\n        apiFetch({\r\n            method: 'DELETE',\r\n            reqtype: 'table',\r\n            tableID: this.state.table.table_id\r\n        }, () => {\r\n            this.setState({ deleted: true });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.deleted) return null;\r\n        return (\r\n            <Link to={`table?t=${this.props.table.table_id}`}>\r\n                <div className='table'>\r\n                    <div className='name'>{this.props.table.name}</div>\r\n                    <div className='note'>{this.props.table.note}</div>\r\n                    <div className='options' onClick={this.handleClickOptions}><i className=\"fas fa-cog\" /></div>\r\n                </div>\r\n            </Link>\r\n        );\r\n    }\r\n}\r\n\r\nclass NewTable extends Component {\r\n\r\n    handleClick = () => {\r\n        this.props.onClick();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                className='table last'\r\n                onClick={this.handleClick}\r\n            >\r\n                <div className='name'>+ Create new table</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass TableCreator extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dismounting: false,\r\n            changed: props.table.changed || false,\r\n            table: props.table\r\n        }\r\n    }\r\n\r\n    dismount = () => {\r\n        this.props.onDismount();\r\n    }\r\n\r\n    handleClick = evt => {\r\n        evt.stopPropagation();\r\n        evt.nativeEvent.stopImmediatePropagation();\r\n    }\r\n\r\n    handleInput = evt => {\r\n        let obj = { changed: true, table: this.state.table };\r\n        obj.table[evt.target.name] = evt.target.value;\r\n        this.setState(obj);\r\n    }\r\n\r\n    handleInputPublic = checked => {\r\n        let obj = { changed: true, table: this.state.table };\r\n        obj.table.public = checked;\r\n        this.setState(obj);\r\n    }\r\n\r\n    createTable = () => {\r\n        if (!this.state.table.name) return console.log('can\\'t create table without a name');\r\n\r\n        console.log('table is public: ' + this.state.table.public);\r\n\r\n        if (this.state.table.new) {\r\n            apiFetch({\r\n                method: 'ADD',\r\n                reqtype: 'table',\r\n                name: this.state.table.name,\r\n                note: this.state.table.note,\r\n                public: this.state.table.public || false,\r\n                authorID: Author.checkAuth()\r\n            }, () => {\r\n                this.dismount();\r\n            });\r\n        } else {\r\n            apiFetch({\r\n                method: 'UPDATE',\r\n                reqtype: 'table',\r\n                name: this.state.table.name,\r\n                note: this.state.table.note,\r\n                public: this.state.table.public || false,\r\n                tableID: this.state.table.table_id\r\n                // authorID: Author.checkAuth()\r\n            }, () => {\r\n                this.dismount();\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                className={'inspector' + (this.state.dismounting ? ' fadeout' : '')}\r\n                onClick={this.dismount}\r\n            >\r\n                <Center>\r\n                    <div className='card-holder'>\r\n                        <div\r\n                            className={'card' + (this.props.dismounting ? ' fadeout' : '')}\r\n                            onClick={this.handleClick}\r\n                        >\r\n                            <div className='button-x' onClick={this.dismount} />\r\n                            <div className='data-input'>\r\n                                <ul>\r\n                                    <li>Table name</li>\r\n                                    <li>Description</li>\r\n                                    <li>Public</li>\r\n                                </ul>\r\n                                <form className='datalist' method='POST'>\r\n                                    <input type='text' defaultValue={this.state.table.name} name='name' onChange={this.handleInput} maxLength='45' />\r\n                                    <input type='text' defaultValue={this.state.table.note} name='note' onChange={this.handleInput} maxLength='256' />\r\n\r\n                                    <InputCheckbox onChange={this.handleInputPublic} checked={this.state.table.public} />\r\n                                </form>\r\n                            </div>\r\n                            <div className='bottom-bar'>\r\n                                <div\r\n                                    className={'button add' + (this.state.changed ? '' : ' hidden')}\r\n                                    onClick={this.createTable}\r\n                                >\r\n                                    {this.state.table.new ? 'Create' : 'Update'}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Center>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default class Dashboard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loaded: false,\r\n            tables: [],\r\n            create: null,\r\n            username: '',\r\n            dropdown: null\r\n        };\r\n\r\n        if (Author.checkAuth()) this.loadTables();\r\n\r\n        document.addEventListener('click', this.cancelDropdown);\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        Author.checkUsername(name => {\r\n            this.setState({ username: name });\r\n        });\r\n    }\r\n\r\n    loadTables = () => {\r\n        apiFetch({\r\n            method: 'GET',\r\n            reqtype: 'tables',\r\n            authorID: Author.checkAuth()\r\n        }, res => {\r\n            this.setState({ tables: res });\r\n        })\r\n    }\r\n\r\n    onClickNewTable = () => {\r\n        this.setState({ create: { new: true, public: false } });\r\n    }\r\n\r\n    editTable = (table = { new: true, public: false }) => {\r\n        this.setState({ create: table });\r\n    }\r\n\r\n    renderTables = () => {\r\n\r\n        const list = [];\r\n        for (const table of this.state.tables) {\r\n            list.push(\r\n                <Table\r\n                    key={table.table_id}\r\n                    table={table}\r\n                    createDropdown={this.createDropdown}\r\n                    destroyDropdown={this.destroyDropdown}\r\n                    editTable={this.editTable}\r\n                />\r\n            );\r\n        }\r\n        list.push(<NewTable key='+' onClick={this.onClickNewTable} />);\r\n        return list;\r\n    }\r\n\r\n    onInspectEscape = () => {\r\n        this.setState({ create: null });\r\n        if (Author.checkAuth()) this.loadTables();\r\n    }\r\n\r\n    createDropdown = drop => {\r\n        this.setState({ dropdown: drop });\r\n    }\r\n\r\n    destroyDropdown = () => {\r\n        this.setState({ dropdown: null });\r\n    }\r\n\r\n    render() {\r\n        if (!Author.checkAuth()) return <Redirect to='login' />;\r\n\r\n        return (\r\n            <div\r\n                className='dashapp'\r\n            >\r\n                <Header />\r\n                <div className={'dashboard' + (this.state.create ? ' blur' : '')}>\r\n                    {this.state.username !== '' && <Welcome user={this.state.username} />}\r\n                    <h1>Your tables</h1>\r\n                    <div className='tablesection'>\r\n                        {this.renderTables()}\r\n                    </div>\r\n                </div>\r\n                {this.state.create && <TableCreator\r\n                    blur={this.onBlur}\r\n                    onDismount={this.onInspectEscape}\r\n                    table={this.state.create}\r\n                />}\r\n                {this.state.dropdown}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Header, apiFetch } from './../global.js';\r\n\r\nexport default function TableMissing(props) {\r\n\r\n    const [tables, setTables] = useState([]);\r\n\r\n    useEffect(() => {\r\n        apiFetch({\r\n            method: 'GET',\r\n            reqtype: 'public_tables'\r\n        }, res => {\r\n            setTables(res);\r\n        })\r\n    }, []);\r\n\r\n    const renderTables = () => {\r\n\r\n        const list = [];\r\n        for (const table of tables) {\r\n            list.push(\r\n                <Link key={table.table_id} to={`table?t=${table.table_id}`}>\r\n                    <div className='table'>\r\n                        <div className='top'>\r\n                            <div className='name'>{table.name}</div>\r\n                            <div className='author'>by {table.author_name}</div>\r\n                        </div>\r\n                        <div className='note'>{table.note}</div>\r\n                    </div>\r\n                </Link>\r\n            );\r\n        }\r\n        // list.push(<NewTable key='+' onClick={this.onClickNewTable} />);\r\n        return list;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div id='home'>\r\n                <div className='above'>\r\n                    <h1>Welcome to Periodic Table Builder</h1>\r\n                    <div className='undertitle'>Build your very own periodic table of elements</div>\r\n                </div>\r\n                <div className='below'>\r\n                    <div className='content'>\r\n                        <div className='left'>\r\n                            <div className='dashboard'>\r\n                                <div className='title'>Public tables created by our users</div>\r\n                                <div className='tablesection'>\r\n                                    {renderTables()}\r\n                                    {renderTables()}\r\n                                    <div className='pad' />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='right'>\r\n                            <div className='message'>\r\n                                <Link to='login'>Log in</Link> or <Link to='signup'>sign up</Link> to make your own periodic table of elements\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\nimport './scss/global.scss';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport PTable       from './pages/table.js';\r\nimport Login        from './pages/login.js';\r\nimport SignUp       from './pages/signup.js';\r\nimport Dashboard    from './pages/dashboard.js';\r\nimport TableMissing from './pages/tablemissing.js';\r\nimport Home         from './pages/home.js';\r\n\r\nReactDOM.render(\r\n    <Router>\r\n        <div>\r\n            <Route exact path='/'       component={Home}         />\r\n            <Route path='/home'         component={Home}         />\r\n            <Route path='/login'        component={Login}        />\r\n            <Route path='/dashboard'    component={Dashboard}    />\r\n            <Route path='/table'        component={PTable}       />\r\n            <Route path='/signup'       component={SignUp}       />\r\n            <Route path='/tablemissing' component={TableMissing} />\r\n        </div>\r\n    </Router>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// unregister() / register()  http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Header } from './../global.js';\r\n\r\nexport default function TableMissing(props) {\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className='warning table-error'>\r\n                <div className='ohno'>Oh no</div>\r\n                Looks like there either isn't a table here, or it's set to private.&nbsp;\r\n                <Link to='login'>Log in</Link> or ask the table owner to make it public.\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"],"sourceRoot":""}
