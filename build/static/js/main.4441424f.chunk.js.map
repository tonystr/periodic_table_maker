{"version":3,"sources":["serviceWorker.js","global.js","pages/table.js","pages/login.js","pages/signup.js","pages/dashboard.js","pages/home.js","index.js","pages/tablemissing.js"],"names":["Boolean","window","location","hostname","match","Center","props","react_default","a","createElement","className","children","Dropdown","useEffect","document","addEventListener","dismount","removeEventListener","evt","target","classList","contains","findAncestor","onDismount","console","error","style","ColorPreview","backgroundColor","colors","UserInfo","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","clickLogout","Author","logout","setState","redirect","clickDelete","state","deleteCounter","deleteMessages","length","delete","count","setTimeout","clickTheme","stopPropagation","preventDefault","nativeEvent","stopImmediatePropagation","selectingTheme","clickThemeOption","index","Number","getAttribute","selectedTheme","changeTheme","renderThemeOptions","list","i","themes","push","key","onClick","name","colorPreview","log","checkTheme","Redirect","to","global_Dropdown","Link","Component","Header","_useState","useState","_useState2","slicedToArray","username","setUsername","_useState3","_useState4","pagename","setPagename","_useState5","_useState6","userDropdown","setUserDropdown","filename","checkUsername","pname","pathname","replace","search","apiFetch","method","reqtype","tableID","res","author_id","checkAuth","link","querySelector","setAttribute","concat","process","setTheme","head","appendChild","left","center","right","Fragment","global_UserInfo","InputCheckbox","_useState7","checked","_useState8","setChecked","_ref","checkbox","chk","onChange","aria-hidden","el","cls","parentElement","_callee","data","callBack","regenerator_default","wrap","_context","prev","next","fetch","headers","accepts","JSON","stringify","then","json","catch","e","stop","auth","cookie","_callee2","callback","_context2","authorID","password","themeIndex","authenticate","options","date","Date","setDate","getDate","Element","handleClick","onSelect","elm","elneg","String","electronegativity","mass","atomic_mass","indexOf","click","isUndef","isDefault","symbol","undefined","slidedown","type_id","atom_number","Ptable","_this2","loadTable","loaded","table","elements","handleInspect","onInspect","renderSpecialGroup","num","width","start","def","table_Element","_loop","anum","find","assign","hidden","renderGroup","_loop2","reload","show","XButton","ElementInput","type","defaultValue","onKeyPress","maxLength","readOnly","ElectronShell","drawnEls","eltrons","max","Math","min","anom","elecDist","j","ang","PI","cos","top","sin","renderShells","ElementCard","_this3","inputOnChange","value","changed","handleDismount","amass","eneg","fetchElement","changeElement","handleKeyPress","undef","inspectorDismount","dismounting","Inspector","_this4","refs","card","blur","handleChange","table_ElementCard","ref","TableOptions","dropdown","setDropdown","setOptions","toggleStates","toggleOption","opts","typeColors","PTable","_this5","onInspectElement","inspect","onBlur","onInspectEscape","tableOptionsChange","tableCookie","URL","searchParams","get","table_Ptable","table_Inspector","Login","obj","login","resAuth","signup","Welcome","user","handleDeleteClick","deleteClicks","handleEditClick","editTable","handleRestoreClick","new","deletemsgs","position","x","y","Table","createDropdown","dashboard_Dropdown","pageX","pageY","destroyDropdown","handleClickOptions","table_id","deleted","note","NewTable","TableCreator","handleInput","handleInputPublic","public","createTable","Dashboard","componentDidMount","loadTables","tables","onClickNewTable","create","arguments","renderTables","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","dashboard_Table","err","return","dashboard_NewTable","drop","cancelDropdown","dashboard_Welcome","dashboard_TableCreator","TableMissing","setTables","id","author_name","ReactDOM","render","BrowserRouter","Route","exact","path","component","Home","SignUp","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4441424f.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n        // [::1] is the IPv6 localhost address.\r\n        window.location.hostname === '[::1]' ||\r\n        // 127.0.0.1/8 is considered localhost for IPv4.\r\n        window.location.hostname.match(\r\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n        )\r\n);\r\n\r\nexport function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n            return;\r\n        }\r\n\r\n        window.addEventListener('load', () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n            if (isLocalhost) {\r\n                // This is running on localhost. Let's check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl, config);\r\n\r\n                // Add some additional logging to localhost, pointing developers to the\r\n                // service worker/PWA documentation.\r\n                navigator.serviceWorker.ready.then(() => {\r\n                    console.log(\r\n                        'This web app is being served cache-first by a service ' +\r\n                            'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n                    );\r\n                });\r\n            } else {\r\n                // Is not localhost. Just register service worker\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing;\r\n                if (installingWorker == null) {\r\n                    return;\r\n                }\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === 'installed') {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the updated precached content has been fetched,\r\n                            // but the previous service worker will still serve the older\r\n                            // content until all client tabs are closed.\r\n                            console.log(\r\n                                'New content is available and will be used when all ' +\r\n                                    'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n                            );\r\n\r\n                            // Execute callback\r\n                            if (config && config.onUpdate) {\r\n                                config.onUpdate(registration);\r\n                            }\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.log('Content is cached for offline use.');\r\n\r\n                            // Execute callback\r\n                            if (config && config.onSuccess) {\r\n                                config.onSuccess(registration);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n        })\r\n        .catch(error => {\r\n            console.error('Error during service worker registration:', error);\r\n        });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n        .then(response => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            const contentType = response.headers.get('content-type');\r\n            if (\r\n                response.status === 404 ||\r\n                (contentType != null && contentType.indexOf('javascript') === -1)\r\n            ) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then(registration => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload();\r\n                    });\r\n                });\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.log(\r\n                'No internet connection found. App is running in offline mode.'\r\n            );\r\n        });\r\n}\r\n\r\nexport function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister();\r\n        });\r\n    }\r\n}\r\n","import React, { Component, useState, useEffect } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nfunction Center(props) {\r\n    return (\r\n        <div className='padjust'>\r\n            <div className='padding' />\r\n            {props.children}\r\n            <div className='padding' />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Dropdown(props) {\r\n\r\n    useEffect(() => {\r\n\r\n        document.addEventListener('click', dismount);\r\n\r\n        return () => {\r\n            document.removeEventListener('click', dismount);\r\n        }\r\n    });\r\n\r\n    const dismount = evt => {\r\n        if (evt.target.classList.contains('dropdown') || findAncestor(evt.target, 'dropdown')) return;\r\n\r\n        if (!props.onDismount) return console.error('Dropdown onDismount not set');\r\n        props.onDismount();\r\n        document.removeEventListener('click', dismount);\r\n    }\r\n\r\n    return (\r\n        <ul\r\n            className={'dropdown' + (props.className ? ' ' + props.className : '')}\r\n            style={props.style}\r\n        >\r\n            {props.children}\r\n        </ul>\r\n    );\r\n}\r\n\r\nfunction ColorPreview(props) {\r\n    return (\r\n        <div className='colorpreview'>\r\n            <div style={{ backgroundColor: props.colors[0] }} className='main' />\r\n            <div style={{ backgroundColor: props.colors[1] }} className='secondary' />\r\n        </div>\r\n    );\r\n}\r\n\r\nclass UserInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            redirect: null,\r\n            deleteCounter: 0,\r\n            deleteMessages: [\r\n                'Delete account',\r\n                'Are you sure?',\r\n                'Do you really wish to delete this account?',\r\n                'Deleting...'\r\n            ],\r\n            selectingTheme: false,\r\n            selectedTheme: Author.checkTheme()\r\n        };\r\n    }\r\n\r\n    clickLogout = () => {\r\n        Author.logout();\r\n        this.setState({ redirect: 'login' });\r\n    }\r\n\r\n    clickDelete = () => {\r\n        if (this.state.deleteCounter >= this.state.deleteMessages.length - 2) {\r\n            Author.delete(() => {\r\n                this.setState({ redirect: 'signup' });\r\n            });\r\n        } else {\r\n            const count = this.state.deleteCounter + 1;\r\n            this.setState({ deleteCounter: count });\r\n\r\n            setTimeout(() => {\r\n                if (this.state.deleteCounter === count) {\r\n                    this.setState({ deleteCounter: 0 });\r\n                }\r\n            }, 4600);\r\n        }\r\n    }\r\n\r\n    clickTheme = evt => {\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n        evt.nativeEvent.stopImmediatePropagation();\r\n        this.setState({ selectingTheme: !this.state.selectingTheme });\r\n    }\r\n\r\n    clickThemeOption = evt => {\r\n        const index = Number(evt.target.getAttribute('index'));\r\n        this.setState({ selectedTheme: index });\r\n        this.props.changeTheme(index);\r\n    }\r\n\r\n    renderThemeOptions = () => {\r\n        const list = [];\r\n        for (let i = 0; i < this.props.themes.length; i++) {\r\n            list.push(\r\n                <li\r\n                    key={i}\r\n                    index={i}\r\n                    onClick={this.clickThemeOption}\r\n                    className={this.state.selectedTheme === i ? 'selected' : ''}\r\n                >\r\n                    {this.props.themes[i].name}\r\n                    <ColorPreview colors={this.props.themes[i].colorPreview} />\r\n                </li>\r\n            );\r\n        }\r\n        console.log(list);\r\n        return list;\r\n    }\r\n\r\n    render() {\r\n        if (this.state.redirect) return <Redirect to={this.state.redirect} />\r\n        return (\r\n            this.state.selectingTheme ? (\r\n                <Dropdown\r\n                    onDismount={this.props.onDismount}\r\n                    className='usercontrolls choose'\r\n                >\r\n                    {this.renderThemeOptions()}\r\n                </Dropdown>\r\n            ) : (\r\n                <Dropdown\r\n                    onDismount={this.props.onDismount}\r\n                    className='usercontrolls'\r\n                >\r\n                    <Link to='dashboard'><li>Dashboard</li></Link>\r\n                    <li onClick={this.clickTheme}>Change theme</li>\r\n                    <li onClick={this.clickLogout}>Log out</li>\r\n                    <li onClick={this.clickDelete}>\r\n                        {this.state.deleteMessages[this.state.deleteCounter]}\r\n                    </li>\r\n                </Dropdown>\r\n            )\r\n        );\r\n    }\r\n}\r\n\r\nfunction Header(props) {\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [pagename, setPagename] = useState('');\r\n    const [userDropdown, setUserDropdown] = useState(false);\r\n\r\n    const themes = [{\r\n        name: 'Royal',\r\n        filename: 'royal.css',\r\n        colorPreview: [ '#ddc239', '#331F26' ]\r\n    }, {\r\n        name: 'One Dark',\r\n        filename: 'one_dark.css',\r\n        colorPreview: [ '#61dafb', '#282C34' ]\r\n    }, {\r\n        name: 'Dracula',\r\n        filename: 'dracula.css',\r\n        colorPreview: [ '#ff79c6', '#282a36' ]\r\n    }, {\r\n        name: 'Dawnbringer',\r\n        filename: 'db32.css',\r\n        colorPreview: [ '#eec39a', '#45283c' ]\r\n    }, {\r\n        name: 'Greenstar',\r\n        filename: 'greenstar.css',\r\n        colorPreview: [ '#ca7091', '#6a7189' ]\r\n    }, {\r\n        name: 'Gameboy',\r\n        filename: 'gameboy.css',\r\n        colorPreview: [ '#5a3921', '#ffffb5' ]\r\n    }, {\r\n        name: 'Chocolate',\r\n        filename: 'chocolate.css',\r\n        colorPreview: [ '#422936', '#a9604c' ]\r\n    }, {\r\n        name: 'Black',\r\n        filename: 'black.css',\r\n        colorPreview: [ '#c3cfd2', '#06080a' ]\r\n    }, {\r\n        name: 'White',\r\n        filename: 'white.css',\r\n        colorPreview: [ '#4a5266', '#ffffff' ]\r\n    }, {\r\n        name: 'Beach',\r\n        filename: 'beach.css',\r\n        colorPreview: [ 'palevioletred', 'papayawhip' ]\r\n    }];\r\n\r\n    useEffect(() => {\r\n        Author.checkUsername(name => {\r\n            if (name) setUsername(name);\r\n        });\r\n    });\r\n\r\n    useEffect(() => {\r\n        changeTheme(Author.checkTheme());\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        let pname = '';\r\n\r\n        switch (window.location.pathname.replace(/^\\//i, '')) {\r\n            case 'home': case '': pname = 'Home'; break;\r\n            case 'login': pname = 'Log in'; break;\r\n            case 'signup': pname = 'Sign up'; break;\r\n            case 'dashboard': pname = 'Dashboard'; break;\r\n            case 'tablemissing': pname = 'Table not found'; break;\r\n            case 'table':\r\n                const match = window.location.search.match(/t=(\\d+)/i);\r\n                if (!match || !match[1]) break;\r\n                apiFetch({\r\n                    method: 'GET',\r\n                    reqtype: 'table',\r\n                    tableID: match[1]\r\n                }, res => {\r\n                    if (res && res[0]) {\r\n                        setPagename(\r\n                            res[0].name +\r\n                            (res[0].author_id !== Author.checkAuth() ? ' [read-only]' : '')\r\n                        );\r\n                    }\r\n                });\r\n                break;\r\n            default: pname = ''; break;\r\n        }\r\n\r\n        if (pname) setPagename(pname);\r\n    }, [window.location.pathname]);\r\n\r\n    const handleUserClick = () => {\r\n        setUserDropdown(!userDropdown);\r\n    }\r\n\r\n    const userInfoDismount = () => {\r\n        setUserDropdown(false);\r\n    }\r\n\r\n    const changeTheme = index => {\r\n        const link = document.querySelector('head>link.theme') ||\r\n            document.createElement('link');\r\n\r\n        link.setAttribute('rel', 'stylesheet');\r\n        link.setAttribute('class', 'theme');\r\n        link.setAttribute('href', index !== 0 ? `${process.env.PUBLIC_URL}/themes/${themes[index].filename}` : '');\r\n\r\n        Author.setTheme(index);\r\n        // this.setState({ selectedTheme: index });\r\n        document.head.appendChild(link);\r\n    }\r\n\r\n    return (\r\n        <header>\r\n            <section className='left'>\r\n                <Link to='/' className='dash'><i className=\"fas fa-home\"></i> Periodic Table Builder  </Link>\r\n                {props.left}\r\n            </section>\r\n\r\n            <section className='center'>\r\n                <div className='pagename'>{pagename}</div>\r\n                {props.center}\r\n            </section>\r\n\r\n            <section className='right'>\r\n                {props.right}\r\n                {username && (\r\n                    <>\r\n                        <div\r\n                            className='user'\r\n                            onClick={handleUserClick}\r\n                        >\r\n                            {username}\r\n                        </div>\r\n                        {userDropdown && (\r\n                            <UserInfo\r\n                                changeTheme={changeTheme}\r\n                                onDismount={userInfoDismount}\r\n                                themes={themes}\r\n                            />\r\n                        )}\r\n                    </>\r\n                )}\r\n            </section>\r\n        </header>\r\n    );\r\n}\r\n\r\nfunction InputCheckbox(props) {\r\n    const [checked, setChecked] = useState(props.checked || false);\r\n\r\n    const handleClick = ({ target }) => {\r\n        const checkbox = target.classList.contains('checkbox') ? target : findAncestor(target, 'checkbox');\r\n        const chk = checkbox && !checkbox.classList.contains('checked');\r\n\r\n        setChecked(chk);\r\n        props.onChange(chk);\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={'checkbox' + (checked ? ' checked' : '')}\r\n            onClick={handleClick}\r\n        >\r\n            <i className=\"fa fa-check\" aria-hidden=\"true\"></i>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction findAncestor(el, cls) {\r\n    while ((el = el.parentElement) && !el.classList.contains(cls));\r\n    return el;\r\n}\r\n\r\nasync function apiFetch(data, callBack) {\r\n    await fetch(`https://test.tonystr.net/`, {\r\n        headers: {\r\n            accepts: 'application/json',\r\n            data: JSON.stringify(data)\r\n        },\r\n    })\r\n    .then(res => {\r\n        res.json().then(json => callBack(json));\r\n\r\n    }).catch(e => console.log(e));\r\n}\r\n\r\nfunction authenticate(options, callback) {\r\n    Author.auth = options.auth;\r\n    let date = new Date();\r\n    date.setDate(date.getDate() + 7);\r\n    document.cookie = `auth=${options.auth}; expires=${date}; path=/`;\r\n\r\n    callback();\r\n}\r\n\r\nfunction checkAuth() {\r\n    if (!Author.auth) {\r\n        const match = document.cookie.match(/auth\\s*=\\s*(\\d+)/i);\r\n        if (match) {\r\n            Author.auth = Number(match[1]);\r\n        }\r\n    }\r\n\r\n    return Author.auth;\r\n}\r\n\r\nasync function checkUsername(callback) {\r\n    if (!Author.username) {\r\n        await apiFetch({\r\n            method: 'GET',\r\n            reqtype: 'username',\r\n            authorID: checkAuth()\r\n        }, res => {\r\n            Author.username = (res && res[0] && res[0].name) || '';\r\n            callback(Author.username);\r\n        });\r\n    } else callback(Author.username);\r\n}\r\n\r\nfunction authorLogout() {\r\n    document.cookie = 'auth=0;';\r\n    Author.auth = 0;\r\n    Author.username = '';\r\n    Author.password = '';\r\n}\r\n\r\nfunction authorDelete(callback) {\r\n    apiFetch({\r\n        method: 'DELETE',\r\n        reqtype: 'author',\r\n        authorID: Author.checkAuth()\r\n    }, res => {\r\n        Author.logout();\r\n        callback(res);\r\n    });\r\n}\r\n\r\nfunction checkTheme() {\r\n    if (!Author.themeIndex) {\r\n        const match = document.cookie.match(/theme\\s*=\\s*(\\d+)/i);\r\n        if (match) {\r\n            Author.themeIndex = Number(match[1]);\r\n        }\r\n    }\r\n\r\n    return Author.themeIndex;\r\n}\r\n\r\nfunction setTheme(themeIndex) {\r\n    Author.themeIndex = themeIndex;\r\n    let date = new Date();\r\n    date.setDate(date.getDate() + 7);\r\n    document.cookie = `theme=${themeIndex}; expires=${date}; path=/`;\r\n}\r\n\r\nconst Author = {\r\n    username: '',\r\n    password: '',\r\n    auth: 0,\r\n    themeIndex: 0,\r\n    authenticate: authenticate,\r\n    setTheme: setTheme,\r\n    checkAuth: checkAuth,\r\n    checkTheme: checkTheme,\r\n    checkUsername: checkUsername,\r\n    logout: authorLogout,\r\n    delete: authorDelete\r\n}\r\n\r\nexport { Center, apiFetch, Author, Header, InputCheckbox, Dropdown, findAncestor };\r\n","import React, { Component, useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Center, apiFetch, Author, Header, Dropdown } from './../global.js';\r\n\r\nclass Element extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let elneg = String((props.elm && props.elm.electronegativity) || '--');\r\n        let mass  = String((props.elm && props.elm.atomic_mass) || '--');\r\n\r\n        if (elneg !== '--' && !~elneg.indexOf('.')) elneg += '.0';\r\n        if (mass  !== '--' && !~mass.indexOf('.'))  mass = `(${mass})`;\r\n\r\n        this.state = {\r\n            click: props.click || false,\r\n            elm: props.elm || false,\r\n            isUndef: this.props.elm && props.elm.isDefault,\r\n            elneg: elneg,\r\n            mass: mass\r\n        };\r\n    }\r\n\r\n    handleClick = () => {\r\n        this.props.onSelect(this.state.elm);\r\n    }\r\n\r\n    render() {\r\n\r\n        //const typeColors = [\r\n        //    '#F2615A',\r\n        //    '#FAAD59',\r\n        //    '#F0ED58',\r\n        //    '#7FC973',\r\n        //    '#79D1DC',\r\n        //    '#7984C0',\r\n        //    '#8A80BB',\r\n        //    '#B47EB5',\r\n        //    '#E972B2',\r\n        //    '#D281B8'\r\n        //];\r\n\r\n        return (\r\n            <td\r\n                symbol={this.state.elm ? this.state.elm.symbol : undefined}\r\n                className={\r\n                    (this.state.elm.slidedown ? 'slidedown' : 'element') +\r\n                    (!this.state.elm ? ' hidden' : '') +\r\n                    (this.state.click ? ' click' : '') +\r\n                    (this.state.isUndef ? ' undef' : '') +\r\n                    (this.state.elm.type_id ? ' type-' + this.state.elm.type_id : ' type-11')\r\n                }\r\n                onClick={this.handleClick}\r\n            >\r\n                <span className='anum'>{this.state.elm && !this.state.isUndef ? this.state.elm.atom_number : undefined}</span>\r\n                <div className='symbol'>{this.state.elm ? this.state.elm.symbol : undefined}</div>\r\n                {this.state.elm && !this.state.isUndef && <span className='mass'><span>{this.state.mass}</span></span>}\r\n                {this.state.elm && !this.state.isUndef && <span className='elneg'><span>{this.state.elneg}</span></span>}\r\n            </td>\r\n        );\r\n    }\r\n}\r\n\r\nclass Ptable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loaded: false,\r\n            redirect: null,\r\n            table: {},\r\n            elements: [],\r\n            width: 18,\r\n            tableID: props.tableID,\r\n            reload: this.loadTable,\r\n            def: {\r\n                isDefault: true,\r\n                name: '',\r\n                symbol: '',\r\n                atom_number: undefined\r\n            }\r\n        };\r\n\r\n        this.loadTable();\r\n    }\r\n\r\n    loadTable = () => {\r\n        if (this.state.loaded) {\r\n            this.setState({\r\n                loaded: false\r\n            });\r\n        }\r\n        apiFetch({\r\n            method: 'GET',\r\n            reqtype: 'table_elements',\r\n            table: this.state.tableID,\r\n            authorID: Author.checkAuth()\r\n        }, res => {\r\n            if (res.error) {\r\n                this.setState({ redirect: 'tablemissing' });\r\n            } else {\r\n                this.setState({\r\n                    loaded: true,\r\n                    table: res.table,\r\n                    elements: res.elements\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    handleInspect = evt => {\r\n        this.props.onInspect(evt);\r\n    }\r\n\r\n    renderSpecialGroup = (num, width) => {\r\n        const diff = 32;\r\n        const start = 57 + num * diff;\r\n        const def = this.state.def;\r\n        const list = [];\r\n\r\n        for (let i = 0; i < 3; i++) {\r\n            list.push(\r\n                <Element\r\n                    onSelect={undefined}\r\n                    key={start - i - 1}\r\n                    elm={undefined}\r\n                />\r\n            );\r\n        }\r\n\r\n        for (let anum = start; anum < start + 15; anum++) {\r\n            const elm = this.state.elements.find(elm => elm.atom_number === anum) ||\r\n                        Object.assign({}, def, { atom_number: anum, symbol: anum });\r\n            list.push(\r\n                <Element\r\n                    onSelect={this.handleInspect}\r\n                    key={anum}\r\n                    elm={!elm.hidden && elm}\r\n                />\r\n            );\r\n        }\r\n\r\n        return <tr className='group' key={8 + num}>{list}</tr>;\r\n    }\r\n\r\n    renderGroup = (index, width) => {\r\n        const list = [];\r\n        const start = index * this.state.width;\r\n        const def = this.state.def;\r\n\r\n        for (let i = 0; i < width; i++) {\r\n            let key = start + i;\r\n            let anum = key + 1 -\r\n                (key > 1  && 16) -\r\n                (key > 20 && 10) -\r\n                (key > 38 && 10) +\r\n                (key > 91 && 14) +\r\n                (key > 110 && 14);\r\n\r\n            let elm = def;\r\n\r\n            if ((key > 0  && key < 17) ||\r\n                (key > 19 && key < 30) ||\r\n                (key > 37 && key < 48)) {\r\n\r\n                elm = Object.assign({}, def, { atom_number: anum, hidden: true });\r\n            } else if (key === 92) {\r\n                elm = Object.assign({}, def, { symbol: '57-71', slidedown: true });\r\n            } else if (key === 110) {\r\n                elm = Object.assign({}, def, { symbol: '89-103', slidedown: true });\r\n            } else {\r\n                elm = (this.state.elements.find(elm => elm.atom_number === anum) ||\r\n                    Object.assign({}, def, { atom_number: anum, symbol: anum }));\r\n            }\r\n\r\n            if (elm !== undefined) {\r\n\r\n                if (index === 0) key = \"string\" + key;\r\n\r\n                list.push(\r\n                    <Element\r\n                        onSelect={this.handleInspect}\r\n                        key={key}\r\n                        elm={!elm.hidden && elm}\r\n                    />\r\n                );\r\n            }\r\n        }\r\n\r\n        return (<tr className='group' key={index}>{list}</tr>);\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.redirect) return <Redirect to={this.state.redirect} />;\r\n        if (!this.state.tableID) return <Redirect to='tablemissing' />;\r\n\r\n        const width = 18;\r\n        const height = 7;\r\n        const list = [];\r\n\r\n        if (this.state.loaded) {\r\n            for (let i = 0; i < height; i++) {\r\n                list.push(this.renderGroup(i, width));\r\n            }\r\n            list.push(\r\n                <tr className='spacing' key={7} />,\r\n                this.renderSpecialGroup(0),\r\n                this.renderSpecialGroup(1)\r\n            );\r\n        }\r\n\r\n        return (\r\n            <table className={\r\n                'ptable' +\r\n                (this.props.show ? ' show ' + this.props.show : '') +\r\n                (this.state.table && this.state.table.author_id !== Author.checkAuth() ? ' read-only' : '')\r\n            }>\r\n                <tbody>{list}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\n\r\nfunction XButton(props) {\r\n    return <div className='button-x' onClick={props.onClick} />;\r\n}\r\n\r\nfunction ElementInput(props) {\r\n    return (\r\n        <input\r\n            type='text'\r\n            defaultValue={props.elm[props.name]}\r\n            name={props.name}\r\n            onChange={props.onChange}\r\n            onKeyPress={props.onKeyPress}\r\n            maxLength={props.maxLength || 45}\r\n            readOnly={props.readOnly}\r\n        />\r\n    );\r\n}\r\n\r\nfunction ElectronShell(props) {\r\n\r\n    const renderShells = num => {\r\n        let elm = <div className='core'><div className='symbol'>{props.elm.symbol}</div></div>;\r\n        let drawnEls = 0;\r\n\r\n        for (let i = 1; i < num; i++) {\r\n\r\n            let eltrons = [];\r\n            const max = Math.min(props.elm.anom - drawnEls, props.elecDist[i - 1]);\r\n            for (let j = 0; j < max; j++) {\r\n                let ang = ((j / max) * (2 * Math.PI) + Math.PI * 1.5) % (2 * Math.PI);\r\n                eltrons.push(\r\n                    <div\r\n                        key={max - j - 1}\r\n                        style={{\r\n                            left: `${Math.cos(ang) * 50 + 50}%`,\r\n                            top: `${Math.sin(ang) * 50 + 50}%`\r\n                        }}\r\n                        className='electron'\r\n                    />\r\n                );\r\n                drawnEls++;\r\n            }\r\n\r\n            elm = (\r\n                <div className={'shell ' + i + (!eltrons.length ? ' hidden' : '')}>\r\n                    {elm} {eltrons}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return elm;\r\n    }\r\n\r\n    return (\r\n        <div className='electronshell'>\r\n            {renderShells(8)}\r\n        </div>\r\n    );\r\n}\r\n\r\nclass ElementCard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const undef = !!props.elm.isDefault;\r\n        this.state = {\r\n            dismount: this.props.inspectorDismount,\r\n            loaded: undef,\r\n            isUndef: undef,\r\n            method: undef ? 'ADD' : 'not sure',\r\n            changed: false,\r\n            elm: {\r\n                symbol: undef ? '' : null,\r\n                anom:   props.elm.atom_number,\r\n                name:   undef ? '' : null,\r\n                mass:   null,\r\n                elneg:  null\r\n            },\r\n            tableID: props.tableID,\r\n            elecDist: [\r\n                2,\r\n                8,\r\n                8 + Math.min(Math.max(props.elm.atom_number - 20 + (props.elm.atom_number > 23) - (props.elm.atom_number > 24), 0), 10),\r\n                8 + Math.min(Math.max(props.elm.atom_number - 38 + (props.elm.atom_number > 40), 0), 10),\r\n                8\r\n            ]\r\n        }\r\n        if (!undef) this.fetchElement(this.props.elm.atom_number);\r\n    }\r\n\r\n    inputOnChange = (e) => {\r\n        let elm = this.state.elm;\r\n        elm[e.target.name] = e.target.value;\r\n        if (!this.state.changed) this.props.onChange();\r\n        this.setState({ elm: elm, changed: true });\r\n    }\r\n\r\n    handleDismount = () => {\r\n        // this.dismount(); is done by parent\r\n        this.state.dismount();\r\n    }\r\n\r\n    dismount = () => {\r\n        if (this.state.changed) {\r\n            // update SQL\r\n            const elm = this.state.elm;\r\n            apiFetch({\r\n                method: this.state.method,\r\n                reqtype: 'element',\r\n                table: this.state.tableID,\r\n                symbol: elm.symbol,\r\n                anom: elm.anom,\r\n                name: elm.name,\r\n                amass: elm.amass,\r\n                eneg: elm.eneg\r\n            }, res => {\r\n                console.log(res);\r\n            });\r\n        } else {\r\n            console.log('Did not apiFetch, because elm has not changed');\r\n        }\r\n    }\r\n\r\n    fetchElement = (anom) => {\r\n        apiFetch({\r\n            method: 'GET',\r\n            reqtype: 'element',\r\n            table: this.state.tableID,\r\n            anom: anom\r\n        }, res => {\r\n            if (res.length) {\r\n                const elm = res[0];\r\n                this.setState({\r\n                    loaded: true,\r\n                    method: 'UPDATE',\r\n                    elm: {\r\n                        symbol: elm.symbol,\r\n                        anom: anom,\r\n                        name: elm.name,\r\n                        mass: elm.atomic_mass,\r\n                        elneg: elm.electronegativity\r\n                    }\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    loaded: true,\r\n                    method: 'ADD',\r\n                    elm: {\r\n                        symbol: '',\r\n                        anom: anom,\r\n                        name: ''\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    changeElement = (key, value) => {\r\n        this.elm[key] = value\r\n    }\r\n\r\n    handleClick = (evt) => {\r\n        evt.stopPropagation();\r\n        evt.nativeEvent.stopImmediatePropagation();\r\n    }\r\n\r\n    delete = () => {\r\n        if (this.state.method === 'ADD') {\r\n            this.setState({ method: 'don\\'t touch it, you idiot' });\r\n            return this.handleDismount();\r\n        }\r\n\r\n        if (!this.state.changed) this.props.onChange();\r\n        apiFetch({\r\n            method: 'DELETE',\r\n            reqtype: 'element',\r\n            table: this.state.tableID,\r\n            anom: this.state.elm.anom\r\n        }, () => {\r\n            this.handleDismount();\r\n        });\r\n    }\r\n\r\n    handleKeyPress = evt => {\r\n        if (evt.key === 'Enter') this.handleDismount();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Center>\r\n                <div className='card-holder'>\r\n                    <div\r\n                        className={'card' + (this.props.dismounting ? ' fadeout' : '')}\r\n                        onClick={this.handleClick}\r\n                    >\r\n                        <XButton onClick={this.handleDismount} />\r\n                        <div className='data-input'>\r\n                            <ul>\r\n                                <li>Symbol</li>\r\n                                <li>Atomic Number</li>\r\n                                <li>Name</li>\r\n                                <br />\r\n                                {this.state.elm.mass  && <li>Atomic Mass</li>}\r\n                                {this.state.elm.elneg && <li>Electronegativity</li>}\r\n                            </ul>\r\n                            {this.state.loaded && (\r\n                                <form className='datalist' method='POST'>\r\n                                    <ElementInput name='symbol' readOnly={this.props.readOnly} elm={this.state.elm} onChange={this.inputOnChange} className='elm-symbol' maxLength={4} />\r\n                                    <ElementInput name='anom'   readOnly={this.props.readOnly} elm={this.state.elm} onChange={this.inputOnChange} className='elm-anom' />\r\n                                    <ElementInput name='name'   readOnly={this.props.readOnly} elm={this.state.elm} onChange={this.inputOnChange} className='elm-name' onKeyPress={this.handleKeyPress} />\r\n                                    <br />\r\n                                    {this.state.elm.mass  && <ElementInput name='mass'  readOnly={true} elm={this.state.elm} onChange={null} className='elm-mass'  onKeyPress={null} />}\r\n                                    {this.state.elm.elneg && <ElementInput name='elneg' readOnly={true} elm={this.state.elm} onChange={null} className='elm-elneg' onKeyPress={null} />}\r\n                                </form>\r\n                            )}\r\n                        </div>\r\n                        {!this.props.readOnly && (\r\n                            <div className='bottom-bar'>\r\n                                <div\r\n                                    className={'button delete' + (this.state.method !== 'ADD' || this.state.changed ? '' : ' hidden')}\r\n                                    onClick={this.delete}\r\n                                >\r\n                                    {this.state.method === 'ADD' ? 'Cancel' : 'Delete'}\r\n                                </div>\r\n                                <div\r\n                                    className={'button add' + (this.state.changed ? '' : ' hidden')}\r\n                                    onClick={this.handleDismount}\r\n                                >\r\n                                    {this.state.method === 'ADD' ? 'Add' : 'Update'}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <ElectronShell elm={this.state.elm} elecDist={this.state.elecDist} />\r\n            </Center>\r\n        );\r\n    }\r\n}\r\n\r\nclass Inspector extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            changed: false,\r\n            dismounting: false\r\n        };\r\n        this.props.blur(true);\r\n    }\r\n\r\n    dismount = () => {\r\n        if (this.state.dismounting) return;\r\n        this.setState({ dismounting: true });\r\n        this.refs.card.dismount();\r\n        this.props.blur(false);\r\n        setTimeout(() => {\r\n            this.props.onDismount(this.state.changed);\r\n        }, 200);\r\n    }\r\n\r\n    handleChange = () => {\r\n        this.setState({\r\n            changed: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                className={'inspector' + (this.state.dismounting ? ' fadeout' : '')}\r\n                onClick={this.dismount}\r\n            >\r\n                <ElementCard\r\n                    dismounting={this.state.dismounting}\r\n                    inspectorDismount={this.dismount}\r\n                    onChange={this.handleChange}\r\n                    elm={this.props.elm}\r\n                    ref='card'\r\n                    tableID={this.props.tableID}\r\n                    readOnly={this.props.readOnly}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction TableOptions(props) {\r\n    const [dropdown, setDropdown] = useState(false);\r\n    const [options, setOptions] = useState(props.options);\r\n    const toggleStates = ['Show ', 'Hide '];\r\n\r\n    const toggleOption = evt => {\r\n        const name = evt.target.getAttribute('name');\r\n        let opts = options;\r\n        opts[name] = !opts[name];\r\n        setOptions(opts);\r\n        props.onChange(options);\r\n    }\r\n\r\n    return (\r\n        <div className='tableoptions'>\r\n            <div className='btn' onClick={() => setDropdown(!dropdown)}>\r\n                <i className=\"fas fa-cog\"></i>\r\n            </div>\r\n            {dropdown && (\r\n                <Dropdown onDismount={() => setDropdown(false)} className='dropdown'>\r\n                    <li name='mass' onClick={toggleOption}>\r\n                        {toggleStates[Number(options.mass)]}\r\n                        atomic mass\r\n                    </li>\r\n                    <li name='elneg' onClick={toggleOption}>\r\n                        {toggleStates[Number(options.elneg)]}\r\n                        electronegativity\r\n                    </li>\r\n                    <li name='typeColors' onClick={toggleOption}>\r\n                        {toggleStates[Number(options.typeColors)]}\r\n                        type colors\r\n                    </li>\r\n\r\n\r\n                </Dropdown>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default class PTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let params = (new URL(document.location)).searchParams;\r\n        let tableCookie = params.get('t');\r\n\r\n        this.state = {\r\n            inspect: null,\r\n            blur: false,\r\n            tableID: (tableCookie && Number(tableCookie)) || -1,\r\n            options : {\r\n                elneg: false,\r\n                mass: false,\r\n                typeColors: false\r\n            }\r\n        };\r\n    }\r\n\r\n    onInspectElement = (elm) => {\r\n        this.setState({ inspect: elm });\r\n    }\r\n\r\n    onBlur = (blur) => {\r\n        this.setState({ blur: blur });\r\n    }\r\n\r\n    onInspectEscape = changed => {\r\n        this.setState({ inspect: null });\r\n        if (changed) this.refs.table.state.reload();\r\n    }\r\n\r\n    tableOptionsChange = options => {\r\n        this.setState({ options: options });\r\n    }\r\n\r\n    render() {\r\n        if (!Author.checkAuth()) return <Redirect to='login' />;\r\n\r\n        return (\r\n            <>\r\n                <Header right={\r\n                    <TableOptions\r\n                        onChange={this.tableOptionsChange}\r\n                        options={this.state.options}\r\n                    />\r\n                } />\r\n                <div className='ptabapp'>\r\n                    <div className={this.state.blur ? 'content blur' : 'content'}>\r\n                        <Center>\r\n                            <Ptable\r\n                                tableID={this.state.tableID}\r\n                                ref='table'\r\n                                onInspect={this.onInspectElement}\r\n                                show={\r\n                                    (this.state.options.elneg ? 'elneg' : '') +\r\n                                    (this.state.options.mass  ? ' mass' : '') +\r\n                                    (this.state.options.typeColors ? ' tcolors' : '')\r\n                                }\r\n                            />\r\n                        </Center>\r\n                    </div>\r\n                    {this.state.inspect && <Inspector\r\n                        elm={this.state.inspect}\r\n                        blur={this.onBlur}\r\n                        onDismount={this.onInspectEscape}\r\n                        tableID={this.state.tableID}\r\n                        readOnly={this.refs.table && this.refs.table.state.table.author_id !== Author.checkAuth()}\r\n                    />}\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Center, apiFetch, Author, Header } from './../global.js';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nexport default class Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            changed: false,\r\n            username: '',\r\n            password: '',\r\n            auth: null,\r\n            error: false\r\n        };\r\n    }\r\n\r\n    handleChange = evt => {\r\n        let obj = { changed: true, error: false };\r\n        obj[evt.target.name] = evt.target.value\r\n        this.setState(obj);\r\n    }\r\n\r\n    handleKeyPress = evt => {\r\n        if (evt.key === 'Enter') {\r\n            this.login();\r\n        }\r\n    }\r\n\r\n    login = () => {\r\n        if (this.state.username === '' || this.state.password === '') {\r\n            this.setState({ changed: false, error: true });\r\n            console.log('Can\\'t log in without a username or password');\r\n            return;\r\n        }\r\n\r\n        apiFetch({\r\n            method: 'LOGIN',\r\n            reqtype: 'login',\r\n            username: this.state.username,\r\n            password: this.state.password\r\n        }, res => {\r\n            let resAuth = (res && res.length && res[0].author_id) || null;\r\n\r\n            if (resAuth != null) {\r\n                Author.authenticate({\r\n                    username: this.state.username,\r\n                    password: this.state.password,\r\n                    auth: resAuth\r\n                }, () => {\r\n                    this.setState({\r\n                        auth: resAuth,\r\n                        error: false\r\n                    });\r\n                });\r\n            } else {\r\n                this.setState({ changed: false, error: true });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.auth) return <Redirect to='dashboard' />;\r\n        return (\r\n            <>\r\n                <Header />\r\n                <Center>\r\n                    <div className='login'>\r\n                        <div className='field'><h1> Log in </h1></div>\r\n                        <div className={'field' + (this.state.error ? ' error' : '')}>\r\n                            <div>Username</div>\r\n                            <input\r\n                                name='username'\r\n                                onKeyPress={this.handleKeyPress}\r\n                                onChange={this.handleChange}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className={'field' + (this.state.error ? ' error' : '')}>\r\n                            <div>Password</div>\r\n                            <input\r\n                                name='password'\r\n                                onKeyPress={this.handleKeyPress}\r\n                                onChange={this.handleChange}\r\n                                type='password'\r\n                            />\r\n                        </div>\r\n                        <div className='field redirbar'>\r\n                            <div className='button' onClick={this.login}> Log in </div>\r\n                            <div><Link className='signup' to='/signup'> Create new user? </Link></div>\r\n                        </div>\r\n                    </div>\r\n                </Center>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Center, apiFetch, Author, Header } from './../global.js';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nexport default class Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            changed: false,\r\n            username: '',\r\n            password: '',\r\n            auth: null\r\n        };\r\n    }\r\n\r\n    handleChange = evt => {\r\n        let obj = { changed: true };\r\n        obj[evt.target.name] = evt.target.value\r\n        this.setState(obj);\r\n    }\r\n\r\n    handleKeyPress = evt => {\r\n        if (evt.key === 'Enter') {\r\n            this.signup();\r\n        }\r\n    }\r\n\r\n    signup = () => {\r\n        if (this.state.username === '' || this.state.password === '') {\r\n            console.log('Can\\'t sign up without a username or password');\r\n            return;\r\n        }\r\n\r\n        apiFetch({\r\n            method: 'SIGNUP',\r\n            reqtype: 'signup',\r\n            username: this.state.username,\r\n            password: this.state.password\r\n        }, res => {\r\n            let resAuth = (res && res.length && res[0].author_id) || null;\r\n            if (resAuth != null) {\r\n                Author.authenticate({\r\n                    username: this.state.username,\r\n                    password: this.state.password,\r\n                    auth: resAuth\r\n                }, () => {\r\n                    this.setState({\r\n                        auth: resAuth,\r\n                        error: false\r\n                    });\r\n                });\r\n            } else {\r\n                this.setState({ changed: false, error: true });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.auth) return <Redirect to='dashboard' />;\r\n        return (\r\n            <>\r\n                <Header />\r\n                <Center>\r\n                    <div className='login'>\r\n                        <div className='field'>\r\n                            <div>\r\n                                <h1> Sign up </h1>\r\n                                <div className='warning'>(do not use your normal passwords; this website is not secure) </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='field'>\r\n                            <div>Username</div>\r\n                            <\r\n                                input\r\n                                name='username'\r\n                                onKeyPress={this.handleKeyPress}\r\n                                onChange={this.handleChange}\r\n                            />\r\n                        </div>\r\n                        <div className='field'>\r\n                            <div>Password</div>\r\n                            <\r\n                                input\r\n                                name='password'\r\n                                onKeyPress={this.handleKeyPress}\r\n                                onChange={this.handleChange}\r\n                                type='password'\r\n                            />\r\n                        </div>\r\n                        <div className='field redirbar'>\r\n                            <div className='button' onClick={this.signup}> Create </div>\r\n                            <div><Link to='/login'> Log in instead? </Link></div>\r\n                        </div>\r\n                    </div>\r\n                </Center>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Author, apiFetch, Center, Header, InputCheckbox, findAncestor, Dropdown as DropdownDefault } from './../global.js';\r\nimport { Redirect, Link } from 'react-router-dom'\r\n\r\nclass Welcome extends Component {\r\n    render() {\r\n        return (\r\n            <div className='welcome'>\r\n                <h3>Welcome, {this.props.user}</h3>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Dropdown extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            deleteClicks: 0,\r\n            deletemsgs: [\r\n                'Delete',\r\n                'Are you sure?',\r\n                'Do you really want to delete this table?',\r\n                'Fine.'\r\n            ]\r\n        };\r\n    }\r\n\r\n    handleDeleteClick = () => {\r\n        if (this.state.deleteClicks >= 2) this.props.delete();\r\n        this.setState({ deleteClicks: this.state.deleteClicks + 1 });\r\n    }\r\n\r\n    handleEditClick = evt => {\r\n        this.props.editTable(this.props.table);\r\n        this.props.dismount();\r\n    }\r\n\r\n    handleRestoreClick = evt => {\r\n        this.props.table.new = true;\r\n        this.props.table.changed = true;\r\n        this.props.editTable(this.props.table);\r\n        this.props.dismount();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <DropdownDefault\r\n                onDismount={this.props.dismount}\r\n                style={{\r\n                    position: 'absolute',\r\n                    left: this.props.x + 'px',\r\n                    top:  this.props.y + 'px'\r\n                }}\r\n            >\r\n                <li onClick={this.handleDeleteClick}>\r\n                    {this.state.deletemsgs[this.state.deleteClicks]}\r\n                </li>\r\n                {this.state.deleteClicks < this.state.deletemsgs.length - 1 ?\r\n                    <li onClick={this.handleEditClick}>Edit</li> :\r\n                    <li onClick={this.handleRestoreClick}>Restore</li>\r\n                }\r\n            </DropdownDefault>\r\n        );\r\n    }\r\n}\r\n\r\nclass Table extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            deleted: false,\r\n            table: props.table\r\n        }\r\n\r\n        document.addEventListener('contextmenu', evt => {\r\n            if (evt.target.classList.contains('table') ||\r\n                findAncestor(evt.target, 'table')) {\r\n                evt.preventDefault();\r\n                this.createDropdown(evt);\r\n            }\r\n        }, false);\r\n    }\r\n\r\n    createDropdown = (evt) => {\r\n        this.props.createDropdown(\r\n            <Dropdown\r\n                x={evt.pageX}\r\n                y={evt.pageY}\r\n                delete={this.delete}\r\n                editTable={this.props.editTable}\r\n                dismount={this.props.destroyDropdown}\r\n                table={this.props.table}\r\n            />\r\n        );\r\n    }\r\n\r\n    handleClickOptions = evt => {\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n        evt.nativeEvent.stopImmediatePropagation();\r\n        this.createDropdown(evt);\r\n    }\r\n\r\n    delete = () => {\r\n        apiFetch({\r\n            method: 'DELETE',\r\n            reqtype: 'table',\r\n            tableID: this.state.table.table_id\r\n        }, () => {\r\n            this.setState({ deleted: true });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.deleted) return null;\r\n        return (\r\n            <Link to={`table?t=${this.props.table.table_id}`}>\r\n                <div className='table'>\r\n                    <div className='name'>{this.props.table.name}</div>\r\n                    <div className='note'>{this.props.table.note}</div>\r\n                    <div className='options' onClick={this.handleClickOptions}><i className=\"fas fa-cog\" /></div>\r\n                </div>\r\n            </Link>\r\n        );\r\n    }\r\n}\r\n\r\nclass NewTable extends Component {\r\n\r\n    handleClick = () => {\r\n        this.props.onClick();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                className='table last'\r\n                onClick={this.handleClick}\r\n            >\r\n                <div className='name'>+ Create new table</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass TableCreator extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dismounting: false,\r\n            changed: props.table.changed || false,\r\n            table: props.table\r\n        }\r\n    }\r\n\r\n    dismount = () => {\r\n        this.props.onDismount();\r\n    }\r\n\r\n    handleClick = evt => {\r\n        evt.stopPropagation();\r\n        evt.nativeEvent.stopImmediatePropagation();\r\n    }\r\n\r\n    handleInput = evt => {\r\n        let obj = { changed: true, table: this.state.table };\r\n        obj.table[evt.target.name] = evt.target.value;\r\n        this.setState(obj);\r\n    }\r\n\r\n    handleInputPublic = checked => {\r\n        let obj = { changed: true, table: this.state.table };\r\n        obj.table.public = checked;\r\n        this.setState(obj);\r\n    }\r\n\r\n    createTable = () => {\r\n        if (!this.state.table.name) return console.log('can\\'t create table without a name');\r\n\r\n        console.log('table is public: ' + this.state.table.public);\r\n\r\n        if (this.state.table.new) {\r\n            apiFetch({\r\n                method: 'ADD',\r\n                reqtype: 'table',\r\n                name: this.state.table.name,\r\n                note: this.state.table.note,\r\n                public: this.state.table.public || false,\r\n                authorID: Author.checkAuth()\r\n            }, () => {\r\n                this.dismount();\r\n            });\r\n        } else {\r\n            apiFetch({\r\n                method: 'UPDATE',\r\n                reqtype: 'table',\r\n                name: this.state.table.name,\r\n                note: this.state.table.note,\r\n                public: this.state.table.public || false,\r\n                tableID: this.state.table.table_id\r\n                // authorID: Author.checkAuth()\r\n            }, () => {\r\n                this.dismount();\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                className={'inspector' + (this.state.dismounting ? ' fadeout' : '')}\r\n                onClick={this.dismount}\r\n            >\r\n                <Center>\r\n                    <div className='card-holder'>\r\n                        <div\r\n                            className={'card' + (this.props.dismounting ? ' fadeout' : '')}\r\n                            onClick={this.handleClick}\r\n                        >\r\n                            <div className='button-x' onClick={this.dismount} />\r\n                            <div className='data-input'>\r\n                                <ul>\r\n                                    <li>Table name</li>\r\n                                    <li>Description</li>\r\n                                    <li>Public</li>\r\n                                </ul>\r\n                                <form className='datalist' method='POST'>\r\n                                    <input type='text' defaultValue={this.state.table.name} name='name' onChange={this.handleInput} maxLength='45' />\r\n                                    <input type='text' defaultValue={this.state.table.note} name='note' onChange={this.handleInput} maxLength='256' />\r\n\r\n                                    <InputCheckbox onChange={this.handleInputPublic} checked={this.state.table.public} />\r\n                                </form>\r\n                            </div>\r\n                            <div className='bottom-bar'>\r\n                                <div\r\n                                    className={'button add' + (this.state.changed ? '' : ' hidden')}\r\n                                    onClick={this.createTable}\r\n                                >\r\n                                    {this.state.table.new ? 'Create' : 'Update'}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Center>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default class Dashboard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loaded: false,\r\n            tables: [],\r\n            create: null,\r\n            username: '',\r\n            dropdown: null\r\n        };\r\n\r\n        if (Author.checkAuth()) this.loadTables();\r\n\r\n        document.addEventListener('click', this.cancelDropdown);\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        Author.checkUsername(name => {\r\n            this.setState({ username: name });\r\n        });\r\n    }\r\n\r\n    loadTables = () => {\r\n        apiFetch({\r\n            method: 'GET',\r\n            reqtype: 'tables',\r\n            authorID: Author.checkAuth()\r\n        }, res => {\r\n            this.setState({ tables: res });\r\n        })\r\n    }\r\n\r\n    onClickNewTable = () => {\r\n        this.setState({ create: { new: true, public: false } });\r\n    }\r\n\r\n    editTable = (table = { new: true, public: false }) => {\r\n        this.setState({ create: table });\r\n    }\r\n\r\n    renderTables = () => {\r\n\r\n        const list = [];\r\n        for (const table of this.state.tables) {\r\n            list.push(\r\n                <Table\r\n                    key={table.table_id}\r\n                    table={table}\r\n                    createDropdown={this.createDropdown}\r\n                    destroyDropdown={this.destroyDropdown}\r\n                    editTable={this.editTable}\r\n                />\r\n            );\r\n        }\r\n        list.push(<NewTable key='+' onClick={this.onClickNewTable} />);\r\n        return list;\r\n    }\r\n\r\n    onInspectEscape = () => {\r\n        this.setState({ create: null });\r\n        if (Author.checkAuth()) this.loadTables();\r\n    }\r\n\r\n    createDropdown = drop => {\r\n        this.setState({ dropdown: drop });\r\n    }\r\n\r\n    destroyDropdown = () => {\r\n        this.setState({ dropdown: null });\r\n    }\r\n\r\n    render() {\r\n        if (!Author.checkAuth()) return <Redirect to='login' />;\r\n\r\n        return (\r\n            <div\r\n                className='dashapp'\r\n            >\r\n                <Header />\r\n                <div className={'dashboard' + (this.state.create ? ' blur' : '')}>\r\n                    {this.state.username !== '' && <Welcome user={this.state.username} />}\r\n                    <h1>Your tables</h1>\r\n                    <div className='tablesection'>\r\n                        {this.renderTables()}\r\n                    </div>\r\n                </div>\r\n                {this.state.create && <TableCreator\r\n                    blur={this.onBlur}\r\n                    onDismount={this.onInspectEscape}\r\n                    table={this.state.create}\r\n                />}\r\n                {this.state.dropdown}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Header, apiFetch } from './../global.js';\r\n\r\nexport default function TableMissing(props) {\r\n\r\n    const [tables, setTables] = useState([]);\r\n\r\n    useEffect(() => {\r\n        apiFetch({\r\n            method: 'GET',\r\n            reqtype: 'public_tables'\r\n        }, res => {\r\n            setTables(res);\r\n        })\r\n    }, []);\r\n\r\n    const renderTables = () => {\r\n\r\n        const list = [];\r\n        for (const table of tables) {\r\n            list.push(\r\n                <Link key={table.table_id} to={`table?t=${table.table_id}`}>\r\n                    <div className='table'>\r\n                        <div className='top'>\r\n                            <div className='name'>{table.name}</div>\r\n                            <div className='author'>by {table.author_name}</div>\r\n                        </div>\r\n                        <div className='note'>{table.note}</div>\r\n                    </div>\r\n                </Link>\r\n            );\r\n        }\r\n        // list.push(<NewTable key='+' onClick={this.onClickNewTable} />);\r\n        return list;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div id='home'>\r\n                <div className='above'>\r\n                    <h1>Welcome to Periodic Table Builder</h1>\r\n                    <div className='undertitle'>Build your very own periodic table of elements</div>\r\n                </div>\r\n                <div className='below'>\r\n                    <div className='content'>\r\n                        <div className='left'>\r\n                            <div className='dashboard'>\r\n                                <div className='title'>Public tables created by our users</div>\r\n                                <div className='tablesection'>\r\n                                    {renderTables()}\r\n                                    <div className='pad' />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='right'>\r\n                            <div className='message'>\r\n                                <Link to='login'>Log in</Link> or <Link to='signup'>sign up</Link> to make your own periodic table of elements\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\nimport './scss/global.scss';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport PTable       from './pages/table.js';\r\nimport Login        from './pages/login.js';\r\nimport SignUp       from './pages/signup.js';\r\nimport Dashboard    from './pages/dashboard.js';\r\nimport TableMissing from './pages/tablemissing.js';\r\nimport Home         from './pages/home.js';\r\n\r\nReactDOM.render(\r\n    <Router>\r\n        <div>\r\n            <Route exact path='/'       component={Home}         />\r\n            <Route path='/home'         component={Home}         />\r\n            <Route path='/login'        component={Login}        />\r\n            <Route path='/dashboard'    component={Dashboard}    />\r\n            <Route path='/table'        component={PTable}       />\r\n            <Route path='/signup'       component={SignUp}       />\r\n            <Route path='/tablemissing' component={TableMissing} />\r\n        </div>\r\n    </Router>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// unregister() / register()  http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Header } from './../global.js';\r\n\r\nexport default function TableMissing(props) {\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className='warning table-error'>\r\n                <div className='ohno'>Oh no</div>\r\n                Looks like there either isn't a table here, or it's set to private.&nbsp;\r\n                <Link to='login'>Log in</Link> or ask the table owner to make it public.\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"],"sourceRoot":""}